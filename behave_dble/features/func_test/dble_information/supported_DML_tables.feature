# Copyright (C) 2016-2021 ActionTech.
# License: https://www.mozilla.org/en-US/MPL/2.0 MPL version 2 or higher.
# Created by maofei at 2020/9/23 change by quexiuping 2021/5/7

Feature: test addition, deletion and modification of dble_information on the management side
   dble_db_group
   dble_db_instance
   dble_rw_split_entry


  @skip_restart
  Scenario: test the langreage of insert in dble manager   ---- dble_db_group  #1
    # dble_db_group is temporary tables ,restart dble ,the dble_db_group will be null
    Given execute sql in "dble-1" in "admin" mode
      | conn   | toClose | sql                                                                                                                                                                                                   | expect      | db               |
      | conn_0 | false   | insert into dble_db_group (name,heartbeat_stmt,heartbeat_timeout,heartbeat_retry,rw_split_mode,delay_threshold,disable_ha) value ('ha_group3','select 1',60,1,1,-1,'false')                           | success     | dble_information |
      | conn_0 | false   | insert into dble_db_group (name,heartbeat_stmt,heartbeat_timeout,heartbeat_retry,rw_split_mode,delay_threshold,disable_ha) values ('ha_group4','select 2',100,1,2,1000,'false')                       | success     | dble_information |
      | conn_0 | true    | select * from dble_db_group                                                                                                                                                                           | length{(4)} | dble_information |
    Given Restart dble in "dble-1" success

    Given execute sql in "dble-1" in "admin" mode
      | conn   | toClose | sql                                                                                                                                                                                                   | expect      | db               |
      | conn_0 | true    | select * from dble_db_group                                                                                                                                                                           | length{(2)} | dble_information |
      | conn_0 | false   | insert into dble_db_group (name,heartbeat_stmt,heartbeat_timeout,heartbeat_retry,rw_split_mode,delay_threshold,disable_ha) value ('ha_group3','select 1',60,1,1,-1,'false')                           | success     | dble_information |
      | conn_0 | false   | insert into dble_db_group (name,heartbeat_stmt,heartbeat_timeout,heartbeat_retry,rw_split_mode,delay_threshold,disable_ha) values ('ha_group4','select 2',100,1,2,1000,'false')                       | success     | dble_information |
      | conn_0 | false   | insert into dble_information.dble_db_group (name,heartbeat_stmt,heartbeat_timeout,heartbeat_retry,rw_split_mode,delay_threshold,disable_ha) value ('ha_group5','show slave status',88,1,2,999,'true') | success     | dble_information |
      | conn_0 | false   | insert into DBLE_db_group (NAME,heartbeat_stmt,heartbeat_timeout,heartbeat_retry,rw_split_mode,delay_threshold,disable_ha) value ('ha_group6','select @@read_only',1,2,0,-1,'true')                   | success     | dble_information |
      | conn_0 | false   | insert into DBLE_db_group (NAME,heartbeat_stmt,rw_split_mode) values ('ha_group7','select 3',1),('ha_group8','select 4',2)                                                                            | success     | dble_information |
      | conn_0 | false   | insert into DBLE_db_group set name='ha_group9',heartbeat_stmt='select 5',rw_split_mode=1                                                                                                              | success     | dble_information |
      | conn_0 | false   | insert into DBLE_db_group set name='ha_group10',heartbeat_stmt='select user',rw_split_mode=2,disable_ha='true'                                                                                        | success     | dble_information |
#   1083  1081
      | conn_0 | false   | insert into DBLE_db_group set name='ha_group11',heartbeat_stmt='select 6',rw_split_mode=3                                                                                                             | success     | dble_information |
      | conn_0 | false   | insert into dble_db_group (name,heartbeat_timeout,heartbeat_stmt,heartbeat_retry,rw_split_mode,delay_threshold,disable_ha) value('ha_group12',100,'select 7',1,3,1000,'false')                        | success     | dble_information |

    Given execute single sql in "dble-1" in "admin" mode and save resultset in "dble_db_group_1"
      | conn   | toClose | sql                         | db               |
      | conn_0 | true    | select * from dble_db_group | dble_information |
    Then check resultset "dble_db_group_1" has lines with following column values
      | name-0     | heartbeat_stmt-1   | heartbeat_timeout-2 | heartbeat_retry-3 | rw_split_mode-4 | delay_threshold-5 | disable_ha-6 | active-7 |
      | ha_group1  | select user()      | 0                   | 1                 | 0               | 100               | false        | true     |
      | ha_group2  | select user()      | 0                   | 1                 | 0               | 100               | false        | true     |
      | ha_group3  | select 1           | 60                  | 1                 | 1               | -1                | false        | false    |
      | ha_group4  | select 2           | 100                 | 1                 | 2               | 1000              | false        | false    |
      | ha_group5  | show slave status  | 88                  | 1                 | 2               | 999               | true         | false    |
      | ha_group6  | select @@read_only | 1                   | 2                 | 0               | -1                | true         | false    |
      | ha_group7  | select 3           | 0                   | 1                 | 1               | -1                | false        | false    |
      | ha_group8  | select 4           | 0                   | 1                 | 2               | -1                | false        | false    |
      | ha_group9  | select 5           | 0                   | 1                 | 1               | -1                | false        | false    |
      | ha_group10 | select user        | 0                   | 1                 | 2               | -1                | true         | false    |
      | ha_group11 | select 6           | 0                   | 1                 | 3               | -1                | false        | false    |
      | ha_group12 | select 7           | 100                 | 1                 | 3               | 1000              | false        | false    |

    Given execute sql in "dble-1" in "admin" mode
      | conn   | toClose | sql                                                                                                                                                                                                                    | expect                                                                                 | db               |
      | conn_0 | false   | insert LOW_PRIORITY into dble_db_group (name,heartbeat_stmt,heartbeat_timeout,heartbeat_retry,rw_split_mode,delay_threshold,disable_ha) value ('dbGroup4','select 1',0,1,1,100,'false')                                | update syntax error, not support insert with syntax                                    | dble_information |
      | conn_0 | false   | insert DELAYED into dble_db_group (name,heartbeat_stmt,heartbeat_timeout,heartbeat_retry,rw_split_mode,delay_threshold,disable_ha) value ('dbGroup4','select 1',0,1,1,100,'false')                                     | update syntax error, not support insert with syntax                                    | dble_information |
      | conn_0 | false   | insert HIGH_PRIORITY into dble_db_group (name,heartbeat_stmt,heartbeat_timeout,heartbeat_retry,rw_split_mode,delay_threshold,disable_ha) value ('dbGroup4','select 1',0,1,1,100,'false')                               | update syntax error, not support insert with syntax                                    | dble_information |
      | conn_0 | false   | insert IGNORE into dble_db_group (name,heartbeat_stmt,heartbeat_timeout,heartbeat_retry,rw_split_mode,delay_threshold,disable_ha) value ('dbGroup4','select 1',0,1,1,100,'false')                                      | update syntax error, not support insert with syntax                                    | dble_information |
      | conn_0 | false   | insert into dble_db_group (name,heartbeat_stmt,heartbeat_timeout,heartbeat_retry,rw_split_mode,delay_threshold,disable_ha) value ('dbGroup4','select 1',0,1,1,100,'false') ON DUPLICATE KEY UPDATE heartbeat_timeout=1 | update syntax error, not support insert with syntax                                    | dble_information |
      | conn_0 | false   | insert dble_db_group name select name from dble_db_instance                                                                                                                                                            | Insert syntax error,not support insert ... select                                      | dble_information |
      | conn_0 | false   | insert into dble_db_group value ('group1','select 1',-1,1,1,100,'false','ture')                                                                                                                                        | Column 'active' is not writable                                                        | dble_information |
      | conn_0 | false   | insert into dble_db_group values ('group2',100,'select 2',1,2,1000,'false')                                                                                                                                            | Column count doesn't match value count at row 1                                        | dble_information |
      | conn_0 | false   | insert into dble_in.dble_db_group (name,heartbeat_stmt,heartbeat_timeout,heartbeat_retry,rw_split_mode,delay_threshold,disable_ha) value ('group3','select 1',0,1,1,100,'false')                                       | Unknown database 'dble_in'                                                             | dble_information |
      | conn_0 | false   | insert into dble_db_group(name,heartbeat_stmt,heartbeat_timeout,heartbeat_retry,rw_split_mode,delay_threshold,disable_ha) value ('ha_group3','select 1',0,1,1,100,'false')                                             | Duplicate entry 'ha_group3' for key 'PRIMARY'                                          | dble_information |
      | conn_0 | false   | insert into dble_db_group(name,heartbeat_stmt,heartbeat_timeout,heartbeat_retry,rw_split_mode,delay_threshold,disable_ha) value('ha',1,'s',1,1,100,'false')                                                            | Insert failure.The reason is incorrect integer value: 's'                              | dble_information |
      | conn_0 | false   | insert into dble_db_group(name,heartbeat_stmt,heartbeat_timeout,heartbeat_retry,rw_split_mode,delay_threshold,disable_ha) value('ha_group4',null,0,1,1,100,'false')                                                    | Column 'heartbeat_stmt' cannot be null                                                 | dble_information |
      | conn_0 | false   | insert into dble_db_group(name,heartbeat_timeout,heartbeat_retry,rw_split_mode,delay_threshold) value('ha_group4',0,1,1,100)                                                                                           | Field '[heartbeat_stmt]' doesn't have a default value and cannot be null               | dble_information |
      | conn_0 | false   | insert into dble_db_group(name,heartbeat_stmt,heartbeat_timeout,heartbeat_retry,rw_split_mode,delay_threshold,disable_ha) value('dbGroup4','select 1',0,1,1,100,'0B01')                                                | Insert failure.The reason is Column 'disable_ha' values only support 'false' or 'true' | dble_information |
      | conn_0 | false   | insert int dble_db_group(name,heartbeat_stmt,heartbeat_timeout,heartbeat_retry,rw_split_mode,delay_threshold,disable_ha) value(('dbGroup4','select 1',0,1,1,100,'false')                                               | You have an error in your SQL syntax                                                   | dble_information |
      | conn_0 | false   | insert into DBLE_db_group set name='group9',heartbeat_stmt='select 5',rw_split_mode=4                                                                                                                                  | Insert failure.The reason is rwSplitMode should be between 0 and 3!                    | dble_information |
## DBLE0REQ-1084
      | conn_0 | false   | insert into DBLE_db_group set name='group9',heartbeat_stmt='select 5',rw_split_mode=0,delay_threshold=9.9            | Not Supported of Value EXPR :9.9                  | dble_information |
      | conn_0 | false   | insert into DBLE_db_group set name='group9',heartbeat_stmt='select 5',rw_split_mode=0,heartbeat_timeout=9.9          | Not Supported of Value EXPR :9.9                  | dble_information |
      | conn_0 | false   | insert into DBLE_db_group set name='group9',heartbeat_stmt='select 5',rw_split_mode=0,heartbeat_retry=9.9            | Not Supported of Value EXPR :9.9                  | dble_information |
      | conn_0 | false   | insert into DBLE_db_group set name='group9',heartbeat_stmt='select 5',rw_split_mode=0,disable_ha=9.9                 | Not Supported of Value EXPR :9.9                  | dble_information |
## DBLE0REQ-1085
      | conn_0 | false   | insert into dble_db_group(name,heartbeat_stmt,heartbeat_timeout,heartbeat_retry,rw_split_mode,delay_threshold,disable_ha) value('null','select 1',0,1,1,100,'false') | Not Supported of Value EXPR :'null'  | dble_information |
      | conn_0 | false   | insert into dble_db_group(name,heartbeat_stmt,heartbeat_timeout,heartbeat_retry,rw_split_mode,delay_threshold,disable_ha) value ('group1','null',0,1,1,100,'false')  | Not Supported of Value EXPR :'null'  | dble_information |
      | conn_0 | false   | insert into dble_db_group(name,heartbeat_stmt,heartbeat_timeout,heartbeat_retry,rw_split_mode,delay_threshold,disable_ha) value ('group2',' ',0,1,1,100,'false')     | Not Supported of Value EXPR :' '     | dble_information |
      | conn_0 | false   | insert into dble_db_group(name,heartbeat_stmt,heartbeat_timeout,heartbeat_retry,rw_split_mode,delay_threshold,disable_ha) value (' ',' ',0,1,1,100,'false')          | Not Supported of Value EXPR :' '     | dble_information |
      | conn_0 | false   | insert into dble_db_group(name,heartbeat_stmt,heartbeat_timeout,heartbeat_retry,rw_split_mode,delay_threshold,disable_ha) value('group3',1,' ',1,1,100,'false')      | Not Supported of Value EXPR :' '     | dble_information |
      | conn_0 | false   | insert into dble_db_group(name,heartbeat_stmt,heartbeat_timeout,heartbeat_retry,rw_split_mode,delay_threshold,disable_ha) value (' ',' ',' ',1,1,100,'false')        | Not Supported of Value EXPR :' '     | dble_information |
      | conn_0 | false   | insert into dble_db_group(name,heartbeat_stmt,heartbeat_timeout,heartbeat_retry,rw_split_mode,delay_threshold,disable_ha) value (' ',' ',' ',' ',1,100,'false')      | Not Supported of Value EXPR :' '     | dble_information |

      | conn_0 | false   | insert into DBLE_db_group set name=null,heartbeat_stmt='select 5',rw_split_mode=1                                                | Column 'name' cannot be null          | dble_information |
      | conn_0 | false   | insert into DBLE_db_group set name=0B01,heartbeat_stmt='select 5',rw_split_mode=1                                                | Not Supported of Value EXPR :0B01     | dble_information |
      | conn_0 | false   | insert into DBLE_db_group set name=-1,heartbeat_stmt='select 5',rw_split_mode=1                                                  | success                              | dble_information |
      | conn_0 | false   | insert into DBLE_db_group set name=1.3,heartbeat_stmt='select 5',rw_split_mode=1                                                 | Not Supported of Value EXPR :1.3       | dble_information |
      | conn_0 | false   | insert into DBLE_db_group set name='0101',heartbeat_stmt=null,rw_split_mode=1                                                    | Column 'heartbeat_stmt' cannot be null     | dble_information |
      | conn_0 | false   | insert into DBLE_db_group set name='0201',heartbeat_stmt=0B01,rw_split_mode=1                                                    | Not Supported of Value EXPR :0B01          | dble_information |
      | conn_0 | false   | insert into DBLE_db_group set name='0301',heartbeat_stmt=-1,rw_split_mode=1                                                      | success                                   | dble_information |
      | conn_0 | false   | insert into DBLE_db_group set name='0401',heartbeat_stmt=1.3,rw_split_mode=1                                                     | Not Supported of Value EXPR :1.3           | dble_information |

      | conn_0 | false   | insert into DBLE_db_group set name='0B01',heartbeat_stmt='select 5',rw_split_mode=null                                           | Column 'rw_split_mode' cannot be null                                 | dble_information |
      | conn_0 | false   | insert into DBLE_db_group set name='0B01',heartbeat_stmt='select 5',rw_split_mode='null'                                         | Not Supported of Value EXPR :'null'                                   | dble_information |
      | conn_0 | false   | insert into DBLE_db_group set name='0B01',heartbeat_stmt='select 5',rw_split_mode=0B01                                           | Not Supported of Value EXPR :0B01                                     | dble_information |
      | conn_0 | false   | insert into DBLE_db_group set name='0B01',heartbeat_stmt='select 5',rw_split_mode='0B01'                                         | Insert failure.The reason is incorrect integer value: '0B01'          | dble_information |
      | conn_0 | false   | insert into DBLE_db_group set name='0B01',heartbeat_stmt='select 5',rw_split_mode=-1                                             | Insert failure.The reason is rwSplitMode should be between 0 and 3    | dble_information |
      | conn_0 | false   | insert into DBLE_db_group set name='0B01',heartbeat_stmt='select 5',rw_split_mode=1.3                                            | Not Supported of Value EXPR :1.3                                      | dble_information |

      | conn_0 | false   | insert into DBLE_db_group set name='0B00',heartbeat_stmt='select 5',rw_split_mode=1,heartbeat_timeout=' '                        | Not Supported of Value EXPR :' '                                      | dble_information |
      | conn_0 | false   | insert into DBLE_db_group set name='0B01',heartbeat_stmt='select 5',rw_split_mode=1,heartbeat_timeout='null'                     | Not Supported of Value EXPR :'null'                                   | dble_information |
#      | conn_0 | false   | insert into DBLE_db_group set name='0B02',heartbeat_stmt='select 5',rw_split_mode=1,heartbeat_timeout=null                       |                                       | dble_information |
      | conn_0 | false   | insert into DBLE_db_group set name='0B03',heartbeat_stmt='select 5',rw_split_mode=1,heartbeat_timeout=0B01                       | Not Supported of Value EXPR :0B01                                     | dble_information |
      | conn_0 | false   | insert into DBLE_db_group set name='0B04',heartbeat_stmt='select 5',rw_split_mode=1,heartbeat_timeout='0B01'                     | Insert failure.The reason is incorrect integer value: '0B01'          | dble_information |
#      | conn_0 | false   | insert into DBLE_db_group set name='0B05',heartbeat_stmt='select 5',rw_split_mode=1,heartbeat_timeout=-1                         |                                       | dble_information |
      | conn_0 | false   | insert into DBLE_db_group set name='0B06',heartbeat_stmt='select 5',rw_split_mode=1,heartbeat_timeout=1.5                        | Not Supported of Value EXPR :1.5                                      | dble_information |

      | conn_0 | false   | insert into DBLE_db_group set name='0B00',heartbeat_stmt='select 5',rw_split_mode=1,heartbeat_retry=' '                        | Not Supported of Value EXPR :' '                                       | dble_information |
      | conn_0 | false   | insert into DBLE_db_group set name='0B01',heartbeat_stmt='select 5',rw_split_mode=1,heartbeat_retry='null'                     | Not Supported of Value EXPR :'null'                                    | dble_information |
#      | conn_0 | false   | insert into DBLE_db_group set name='0B02',heartbeat_stmt='select 5',rw_split_mode=1,heartbeat_retry=null                       | Not Supported of Value EXPR :1.3                                      | dble_information |
      | conn_0 | false   | insert into DBLE_db_group set name='0B03',heartbeat_stmt='select 5',rw_split_mode=1,heartbeat_retry=0B01                       | Not Supported of Value EXPR :0B01                                      | dble_information |
      | conn_0 | false   | insert into DBLE_db_group set name='0B04',heartbeat_stmt='select 5',rw_split_mode=1,heartbeat_retry='0B01'                     | Insert failure.The reason is incorrect integer value: '0B01'           | dble_information |
#      | conn_0 | false   | insert into DBLE_db_group set name='0B25',heartbeat_stmt='select 5',rw_split_mode=1,heartbeat_retry=-1                         | Not Supported of Value EXPR :1.3                                      | dble_information |
      | conn_0 | false   | insert into DBLE_db_group set name='0B06',heartbeat_stmt='select 5',rw_split_mode=1,heartbeat_retry=1.5                        | Not Supported of Value EXPR :1.5                                       | dble_information |

      | conn_0 | false   | insert into DBLE_db_group set name='0B00',heartbeat_stmt='select 5',rw_split_mode=1,delay_threshold=' '                        | Not Supported of Value EXPR :' '                                      | dble_information |
      | conn_0 | false   | insert into DBLE_db_group set name='0B01',heartbeat_stmt='select 5',rw_split_mode=1,delay_threshold='null'                     | Not Supported of Value EXPR :'null'                                   | dble_information |
#      | conn_0 | false   | insert into DBLE_db_group set name='0B02',heartbeat_stmt='select 5',rw_split_mode=1,delay_threshold=null                       | Not Supported of Value EXPR :NULL                                      | dble_information |
      | conn_0 | false   | insert into DBLE_db_group set name='0B03',heartbeat_stmt='select 5',rw_split_mode=1,delay_threshold=0B01                       | Not Supported of Value EXPR :0B01                                      | dble_information |
      | conn_0 | false   | insert into DBLE_db_group set name='0B04',heartbeat_stmt='select 5',rw_split_mode=1,delay_threshold='0B01'                     | Insert failure.The reason is incorrect integer value: '0B01'           | dble_information |
#      | conn_0 | false   | insert into DBLE_db_group set name='0B05',heartbeat_stmt='select 5',rw_split_mode=1,delay_threshold=-1                         | Not Supported of Value EXPR :1.3                                      | dble_information |
      | conn_0 | false   | insert into DBLE_db_group set name='0B06',heartbeat_stmt='select 5',rw_split_mode=1,delay_threshold=1.5                        | Not Supported of Value EXPR :1.5                                       | dble_information |

      | conn_0 | false   | insert into DBLE_db_group set name='0B00',heartbeat_stmt='select 5',rw_split_mode=1,disable_ha=' '                        | Not Supported of Value EXPR :' '                                                               | dble_information |
      | conn_0 | false   | insert into DBLE_db_group set name='0B01',heartbeat_stmt='select 5',rw_split_mode=1,disable_ha='null'                     | Not Supported of Value EXPR :'null'                                                            | dble_information |
#      | conn_0 | false   | insert into DBLE_db_group set name='0B02',heartbeat_stmt='select 5',rw_split_mode=1,disable_ha=null                       | Not Supported of Value EXPR :NULL                                                              | dble_information |
      | conn_0 | false   | insert into DBLE_db_group set name='0B03',heartbeat_stmt='select 5',rw_split_mode=1,disable_ha=0B01                       | Not Supported of Value EXPR :0B01                                                              | dble_information |
      | conn_0 | false   | insert into DBLE_db_group set name='0B04',heartbeat_stmt='select 5',rw_split_mode=1,disable_ha='0B01'                     | Insert failure.The reason is Column 'disable_ha' values only support 'false' or 'true'         | dble_information |
      | conn_0 | false   | insert into DBLE_db_group set name='1B05',heartbeat_stmt='select 5',rw_split_mode=1,disable_ha=-1                         | Insert failure.The reason is Column 'disable_ha' values only support 'false' or 'true'         | dble_information |
      | conn_0 | false   | insert into DBLE_db_group set name='0B06',heartbeat_stmt='select 5',rw_split_mode=1,disable_ha=1.5                        | Not Supported of Value EXPR :1.5                                                               | dble_information |

    Then execute "admin" cmd  in "dble-1" at background
      | conn   | toClose | sql                         | db               |
      | conn_1 | True    | select * from dble_config   | dble_information |
    Given sleep "2" seconds
    Then check following text exist "Y" in file "/tmp/dble_admin_query.log" in host "dble-1"
      """
      {"dbGroup":\[
      {"rwSplitMode":0,"name":"ha_group1","delayThreshold":100,"heartbeat":{"value":"select user()"},
      "dbInstance":\[{"name":"hostM1","url":"172.100.9.5:3306","password":"111111","user":"test","maxCon":1000,"minCon":10,"primary":true}\]},
      {"rwSplitMode":0,"name":"ha_group2","delayThreshold":100,"heartbeat":{"value":"select user()"},
      "dbInstance":\[{"name":"hostM2","url":"172.100.9.6:3306","password":"111111","user":"test","maxCon":1000,"minCon":10,"primary":true}\]
      """
    Then check following text exist "N" in file "/tmp/dble_admin_query.log" in host "dble-1"
      """
      "name":"ha_group3"
      "name":"ha_group4"
      "name":"ha_group5"
      "name":"ha_group6"
      "name":"ha_group7"
      "name":"ha_group8"
      "name":"ha_group9"
      "name":"ha_group10"
      "name":"ha_group11"
      "name":"ha_group12"
      """
    Then check following text exist "N" in file "/opt/dble/logs/dble.log" in host "dble-1"
      """
      NullPointerException
      """



  @skip_restart
  Scenario: test the langreage of insert in dble manager   ---- dble_db_instance  #2
    Given execute sql in "dble-1" in "admin" mode
      | conn   | toClose | sql                                                                       | expect      | db               |
      | conn_0 | false   | select * from dble_db_instance                                            | length{(2)} | dble_information |
      | conn_0 | false   | insert into dble_db_instance (name,db_group,addr,port,user,password_encrypt,encrypt_configured,primary,disabled,min_conn_count,max_conn_count,read_weight,id,connection_timeout,connection_heartbeat_timeout,test_on_create,test_on_borrow,test_on_return,test_while_idle,time_between_eviction_runs_millis,evictor_shutdown_timeout_millis,idle_timeout,heartbeat_period_millis) value ('hostM3','ha_group3','172.100.9.1',3306,'test','111111','false','true','true',10,1000,1,'hostM3',30000,200,'false','false','false','false',1,1,1,1)                     | success   | dble_information |
      | conn_0 | false   | insert into dble_information.dble_db_instance (name,db_group,addr,port,user,password_encrypt,encrypt_configured,primary,disabled,min_conn_count,max_conn_count,read_weight,id,connection_timeout,connection_heartbeat_timeout,test_on_create,test_on_borrow,test_on_return,test_while_idle,time_between_eviction_runs_millis,evictor_shutdown_timeout_millis,idle_timeout,heartbeat_period_millis) value ('hostS31','ha_group3','172.100.9.2',3306,'test','111111','false','false','false',1,10,2,'hostS31',3,1,'true','true','true','true',2,2,2,2)             | success   | dble_information |
      | conn_0 | false   | insert into dble_db_instance (name,db_group,addr,port,user,password_encrypt,encrypt_configured,primary,disabled,min_conn_count,max_conn_count,read_weight,id,connection_timeout,connection_heartbeat_timeout,test_on_create,test_on_borrow,test_on_return,test_while_idle,time_between_eviction_runs_millis,evictor_shutdown_timeout_millis,idle_timeout,heartbeat_period_millis) value ('hostS32','ha_group3','172.100.9.3',3306,'test','111111','false','false','true',2,99,3,'hostS32',5,2,'false','false','false','false',1,1,1,1)                           | success   | dble_information |

      | conn_0 | false    | insert into DBLE_db_instance (name,db_group,addr,port,user,password_encrypt,encrypt_configured,primary,min_conn_count,max_conn_count) value ('hostM4','ha_group4','172.100.9.5',3306,'test','111111','false','true',1,99)                         | success        | dble_information |
      | conn_0 | false    | insert into DBLE_db_instance (NAME,db_group,addr,port,USER,password_encrypt,encrypt_configured,primary,min_conn_count,max_conn_count) value ('hostM5','ha_group5','172.100.9.10',3306,'test','111111','false','true',1,99)                        | success        | dble_information |
      | conn_0 | false    | insert into DBLE_db_instance (NAME,db_group,addr,port,USER,password_encrypt,encrypt_configured,primary,min_conn_count,max_conn_count) values ('hostS51','ha_group5','172.100.9.11',3306,'test','111111','false','false',0,99)                     | success        | dble_information |
      | conn_0 | false    | insert into DBLE_db_instance (NAME,db_group,addr,port,USER,password_encrypt,encrypt_configured,primary,min_conn_count,max_conn_count,read_weight) values ('hostS52','ha_group5','172.100.9.12',3306,'test','111111','false','false',0,99,3)       | success        | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM6',db_group='ha_group6',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=4,max_conn_count=9                              | success        | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM7',db_group='ha_group7',addr='172.100.9.3',port=3306,user='test',password_encrypt='UHH6o0jOcaXRYzvyQrUN/P5avdmyoxpHO8B54y7+RkiIC73G1qgFr5X+mewtlC6p/v7Gc/NXD7sPDFB/kPM5aA==',encrypt_configured='true',`primary`='true',min_conn_count=4,max_conn_count=9,id='hostM7'                  | success        | dble_information |
      | conn_0 | false    | insert into DBLE_db_instance (NAME,db_group,addr,port,password_encrypt,USER,encrypt_configured,primary,max_conn_count,min_conn_count) value ('hostM12','ha_group12','172.100.9.1','3306','111111','test','false','true','100','9')                | success        | dble_information |


    Given execute single sql in "dble-1" in "admin" mode and save resultset in "dble_db_instance_1"
      | conn   | toClose | sql                            | db               |
      | conn_0 | true    | select name,db_group,addr,port,user,encrypt_configured,primary,disabled,min_conn_count,max_conn_count,read_weight,id from dble_db_instance            | dble_information |
    Then check resultset "dble_db_instance_1" has lines with following column values
      | name-0  | db_group-1 | addr-2       | port-3 | user-4 | encrypt_configured-5 | primary-6 | disabled-7 | min_conn_count-8 | max_conn_count-9 | read_weight-10 | id-11   |
      | hostM1  | ha_group1  | 172.100.9.5  | 3306   | test   | false                | true      | false      | 10               | 1000             | 0              | hostM1  |
      | hostM2  | ha_group2  | 172.100.9.6  | 3306   | test   | false                | true      | false      | 10               | 1000             | 0              | hostM2  |
      | hostM3  | ha_group3  | 172.100.9.1  | 3306   | test   | false                | true      | true       | 10               | 1000             | 1              | hostM3  |
      | hostS31 | ha_group3  | 172.100.9.2  | 3306   | test   | false                | false     | false      | 1                | 10               | 2              | hostS31 |
      | hostS32 | ha_group3  | 172.100.9.3  | 3306   | test   | false                | false     | true       | 2                | 99               | 3              | hostS32 |
      | hostM4  | ha_group4  | 172.100.9.5  | 3306   | test   | false                | true      | false      | 1                | 99               | 0              | hostM4  |
      | hostS52 | ha_group5  | 172.100.9.12 | 3306   | test   | false                | false     | false      | 0                | 99               | 3              | hostS52 |
      | hostM5  | ha_group5  | 172.100.9.10 | 3306   | test   | false                | true      | false      | 1                | 99               | 0              | hostM5  |
      | hostS51 | ha_group5  | 172.100.9.11 | 3306   | test   | false                | false     | false      | 0                | 99               | 0              | hostS51 |
      | hostM6  | ha_group6  | 172.100.9.9  | 3306   | test   | false                | true      | false      | 4                | 9                | 0              | hostM6  |
      | hostM7  | ha_group7  | 172.100.9.3  | 3306   | test   | true                 | true      | false      | 4                | 9                | 0              | hostM7  |

    Given execute single sql in "dble-1" in "admin" mode and save resultset in "dble_db_instance_2"
      | conn   | toClose | sql                            | db               |
      | conn_0 | true    | select connection_timeout,connection_heartbeat_timeout,test_on_create,test_on_borrow,test_on_return,test_while_idle,time_between_eviction_runs_millis,evictor_shutdown_timeout_millis,idle_timeout,heartbeat_period_millis from dble_db_instance     | dble_information |
    Then check resultset "dble_db_instance_2" has lines with following column values
      | connection_timeout-0 | connection_heartbeat_timeout-1 | test_on_create-2 | test_on_borrow-3 | test_on_return-4 | test_while_idle-5 | time_between_eviction_runs_millis-6 | evictor_shutdown_timeout_millis-7 | idle_timeout-8 | heartbeat_period_millis-9 |
      | 30000                | 20                             | false            | false            | false            | false             | 30000                               | 10000                             | 600000         | 10000                     |
      | 30000                | 20                             | false            | false            | false            | false             | 30000                               | 10000                             | 600000         | 10000                     |
      | 30000                | 200                            | false            | false            | false            | false             | 1                                   | 1                                 | 1              | 1                         |
      | 3                    | 1                              | true             | true             | true             | true              | 2                                   | 2                                 | 2              | 2                         |
      | 5                    | 2                              | false            | false            | false            | false             | 1                                   | 1                                 | 1              | 1                         |
      | 30000                | 20                             | false            | false            | false            | false             | 30000                               | 10000                             | 600000         | 10000                     |
      | 30000                | 20                             | false            | false            | false            | false             | 30000                               | 10000                             | 600000         | 10000                     |
      | 30000                | 20                             | false            | false            | false            | false             | 30000                               | 10000                             | 600000         | 10000                     |
      | 30000                | 20                             | false            | false            | false            | false             | 30000                               | 10000                             | 600000         | 10000                     |
      | 30000                | 20                             | false            | false            | false            | false             | 30000                               | 10000                             | 600000         | 10000                     |
      | 30000                | 20                             | false            | false            | false            | false             | 30000                               | 10000                             | 600000         | 10000                     |
    Given execute single sql in "dble-1" in "admin" mode and save resultset in "dble_db_instance_3"
      | conn   | toClose | sql                            | db               |
      | conn_0 | true    | select active_conn_count,idle_conn_count,read_conn_request,write_conn_request,last_heartbeat_ack,heartbeat_failure_in_last_5min from dble_db_instance       | dble_information |
    Then check resultset "dble_db_instance_3" has lines with following column values
      | active_conn_count-0 | idle_conn_count-1 | read_conn_request-2 | write_conn_request-3 | last_heartbeat_ack-4 | heartbeat_failure_in_last_5min-5 |
      | 0                   | 10                | 0                   | 0                    | ok                   | 0                                |
      | 0                   | 10                | 0                   | 0                    | ok                   | 0                                |
      | 0                   | 0                 | 0                   | 0                    | init                 | 0                                |
      | 0                   | 0                 | 0                   | 0                    | ok                   | 0                                |
      | 0                   | 0                 | 0                   | 0                    | init                 | 0                                |
      | 0                   | 0                 | 0                   | 0                    | ok                   | 0                                |
      | 0                   | 0                 | 0                   | 0                    | ok                   | 0                                |
      | 0                   | 0                 | 0                   | 0                    | ok                   | 0                                |
      | 0                   | 0                 | 0                   | 0                    | ok                   | 0                                |
      | 0                   | 0                 | 0                   | 0                    | ok                   | 0                                |
      | 0                   | 0                 | 0                   | 0                    | ok                   | 0                                |

    Then execute "admin" cmd  in "dble-1" at background
      | conn   | toClose | sql                         | db               |
      | conn_1 | True    | select * from dble_config   | dble_information |
    Given sleep "2" seconds
    Then check following text exist "Y" in file "/tmp/dble_admin_query.log" in host "dble-1"
    """
    {"dbGroup":\[
    {"rwSplitMode":0,"name":"ha_group1","delayThreshold":100,"heartbeat":{"value":"select user()"},
    "dbInstance":\[{"name":"hostM1","url":"172.100.9.5:3306","password":"111111","user":"test","maxCon":1000,"minCon":10,"primary":true}\]},
    {"rwSplitMode":0,"name":"ha_group2","delayThreshold":100,"heartbeat":{"value":"select user()"},
    "dbInstance":\[{"name":"hostM2","url":"172.100.9.6:3306","password":"111111","user":"test","maxCon":1000,"minCon":10,"primary":true}\]},
    {"rwSplitMode":1,"name":"ha_group3","delayThreshold":-1,"disableHA":"false","heartbeat":{"value":"select 1","timeout":60,"errorRetryCount":1},
    "dbInstance":\[{"name":"hostM3","url":"172.100.9.1:3306","password":"111111","user":"test","maxCon":1000,"minCon":10,"usingDecrypt":"false","disabled":"true","id":"hostM3","readWeight":"1","primary":true,
    "property":\[{"value":"30000","name":"connectionTimeout"},{"value":"200","name":"connectionHeartbeatTimeout"},{"value":"false","name":"testOnCreate"},
    {"value":"false","name":"testOnBorrow"},{"value":"false","name":"testOnReturn"},{"value":"false","name":"testWhileIdle"},{"value":"1","name":"timeBetweenEvictionRunsMillis"},
    {"value":"1","name":"evictorShutdownTimeoutMillis"},{"value":"1","name":"idleTimeout"},{"value":"1","name":"heartbeatPeriodMillis"}\]
    {"name":"hostS31","url":"172.100.9.2:3306","password":"111111","user":"test","maxCon":10,"minCon":1,"usingDecrypt":"false","disabled":"false","id":"hostS31","readWeight":"2","primary":false,
    "property":\[{"value":"3","name":"connectionTimeout"},{"value":"1","name":"connectionHeartbeatTimeout"},{"value":"true","name":"testOnCreate"},{"value":"true","name":"testOnBorrow"},
    {"value":"true","name":"testOnReturn"},{"value":"true","name":"testWhileIdle"},{"value":"2","name":"timeBetweenEvictionRunsMillis"},{"value":"2","name":"evictorShutdownTimeoutMillis"},
    {"value":"2","name":"idleTimeout"},{"value":"2","name":"heartbeatPeriodMillis"}\]
    {"name":"hostS32","url":"172.100.9.3:3306","password":"111111","user":"test","maxCon":99,"minCon":2,"usingDecrypt":"false","disabled":"true","id":"hostS32","readWeight":"3","primary":false,
    "property":\[{"value":"5","name":"connectionTimeout"},{"value":"2","name":"connectionHeartbeatTimeout"},{"value":"false","name":"testOnCreate"},{"value":"false","name":"testOnBorrow"},
    {"value":"false","name":"testOnReturn"},{"value":"false","name":"testWhileIdle"},{"value":"1","name":"timeBetweenEvictionRunsMillis"},{"value":"1","name":"evictorShutdownTimeoutMillis"},
    {"value":"1","name":"idleTimeout"},{"value":"1","name":"heartbeatPeriodMillis"}\]
    {"rwSplitMode":2,"name":"ha_group4","delayThreshold":1000,"disableHA":"false","heartbeat":{"value":"select 2","timeout":100,"errorRetryCount":1},
    "dbInstance":\[{"name":"hostM4","url":"172.100.9.5:3306","password":"111111","user":"test","maxCon":99,"minCon":1,"usingDecrypt":"false","disabled":"false","readWeight":"0","primary":true,
    "property":\[{"value":"30000","name":"connectionTimeout"},{"value":"20","name":"connectionHeartbeatTimeout"},{"value":"false","name":"testOnCreate"},{"value":"false","name":"testOnBorrow"},
    {"value":"false","name":"testOnReturn"},{"value":"false","name":"testWhileIdle"},{"value":"30000","name":"timeBetweenEvictionRunsMillis"},{"value":"10000","name":"evictorShutdownTimeoutMillis"},
    {"value":"600000","name":"idleTimeout"},{"value":"10000","name":"heartbeatPeriodMillis"}\]
    {"rwSplitMode":2,"name":"ha_group5","delayThreshold":999,"disableHA":"true","heartbeat":{"value":"show slave status","timeout":88,"errorRetryCount":1},
    "dbInstance":\[{"name":"hostM5","url":"172.100.9.10:3306","password":"111111","user":"test","maxCon":99,"minCon":1,"usingDecrypt":"false","disabled":"false","readWeight":"0","primary":true,
    "property":\[{"value":"30000","name":"connectionTimeout"},{"value":"20","name":"connectionHeartbeatTimeout"},{"value":"false","name":"testOnCreate"},{"value":"false","name":"testOnBorrow"},
    {"value":"false","name":"testOnReturn"},{"value":"false","name":"testWhileIdle"},{"value":"30000","name":"timeBetweenEvictionRunsMillis"},{"value":"10000","name":"evictorShutdownTimeoutMillis"},
    {"value":"600000","name":"idleTimeout"},{"value":"10000","name":"heartbeatPeriodMillis"}\]
    {"name":"hostS51","url":"172.100.9.11:3306","password":"111111","user":"test","maxCon":99,"minCon":0,"usingDecrypt":"false","disabled":"false","readWeight":"0","primary":false,
    "property":\[{"value":"30000","name":"connectionTimeout"},{"value":"20","name":"connectionHeartbeatTimeout"},{"value":"false","name":"testOnCreate"},{"value":"false","name":"testOnBorrow"},
    {"value":"false","name":"testOnReturn"},{"value":"false","name":"testWhileIdle"},{"value":"30000","name":"timeBetweenEvictionRunsMillis"},{"value":"10000","name":"evictorShutdownTimeoutMillis"},
    {"value":"600000","name":"idleTimeout"},{"value":"10000","name":"heartbeatPeriodMillis"}\]
    {"name":"hostS52","url":"172.100.9.12:3306","password":"111111","user":"test","maxCon":99,"minCon":0,"usingDecrypt":"false","disabled":"false","readWeight":"3","primary":false,
    "property":\[{"value":"30000","name":"connectionTimeout"},{"value":"20","name":"connectionHeartbeatTimeout"},{"value":"false","name":"testOnCreate"},{"value":"false","name":"testOnBorrow"},
    {"value":"false","name":"testOnReturn"},{"value":"false","name":"testWhileIdle"},{"value":"30000","name":"timeBetweenEvictionRunsMillis"},{"value":"10000","name":"evictorShutdownTimeoutMillis"},
    {"value":"600000","name":"idleTimeout"},{"value":"10000","name":"heartbeatPeriodMillis"}\]
    {"rwSplitMode":0,"name":"ha_group6","delayThreshold":-1,"disableHA":"true","heartbeat":{"value":"select @@read_only","timeout":1,"errorRetryCount":2},
    "dbInstance":\[{"name":"hostM6","url":"172.100.9.9:3306","password":"111111","user":"test","maxCon":9,"minCon":4,"usingDecrypt":"false","disabled":"false","readWeight":"0","primary":true,
    "property":\[{"value":"30000","name":"connectionTimeout"},{"value":"20","name":"connectionHeartbeatTimeout"},{"value":"false","name":"testOnCreate"},{"value":"false","name":"testOnBorrow"},
    {"value":"false","name":"testOnReturn"},{"value":"false","name":"testWhileIdle"},{"value":"30000","name":"timeBetweenEvictionRunsMillis"},{"value":"10000","name":"evictorShutdownTimeoutMillis"},
    {"value":"600000","name":"idleTimeout"},{"value":"10000","name":"heartbeatPeriodMillis"}\]
    {"rwSplitMode":1,"name":"ha_group7","delayThreshold":-1,"disableHA":"false","heartbeat":{"value":"select 3","timeout":0,"errorRetryCount":1},
    "dbInstance":\[{"name":"hostM7","url":"172.100.9.3:3306","password":"UHH6o0jOcaXRYzvyQrUN/P5avdmyoxpHO8B54y7+RkiIC73G1qgFr5X+mewtlC6p/v7Gc/NXD7sPDFB/kPM5aA==","user":"test","maxCon":9,"minCon":4,"usingDecrypt":"true","disabled":"false","id":"hostM7","readWeight":"0","primary":true,
    "property":\[{"value":"30000","name":"connectionTimeout"},{"value":"20","name":"connectionHeartbeatTimeout"},{"value":"false","name":"testOnCreate"},{"value":"false","name":"testOnBorrow"},
    {"value":"false","name":"testOnReturn"},{"value":"false","name":"testWhileIdle"},{"value":"30000","name":"timeBetweenEvictionRunsMillis"},{"value":"10000","name":"evictorShutdownTimeoutMillis"},
    {"value":"600000","name":"idleTimeout"},{"value":"10000","name":"heartbeatPeriodMillis"}\]
    """


    Given execute sql in "dble-1" in "admin" mode
      | conn   | toClose  | sql                      | expect      | db               |
      | conn_0 | false    | insert LOW_PRIORITY into DBLE_db_instance (name,db_group,addr,port,user,password_encrypt,encrypt_configured,primary,min_conn_count,max_conn_count) value ('host1','group1','172.100.9.5',3306,'test','111111','false','true',1,99)                        | update syntax error, not support insert with syntax        | dble_information |
      | conn_0 | false    | insert DELAYED into dble_db_instance (name,db_group,addr,port,user,password_encrypt,encrypt_configured,primary,min_conn_count,max_conn_count) value ('host1','group1','172.100.9.5',3306,'test','111111','false','true',1,99)                             | update syntax error, not support insert with syntax        | dble_information |
      | conn_0 | false    | insert HIGH_PRIORITY into DBLE_db_instance (name,db_group,addr,port,user,password_encrypt,encrypt_configured,primary,min_conn_count,max_conn_count) value ('host1','group1','172.100.9.5',3306,'test','111111','false','true',1,99)                       | update syntax error, not support insert with syntax        | dble_information |
      | conn_0 | false    | insert IGNORE into DBLE_db_instance (name,db_group,addr,port,user,password_encrypt,encrypt_configured,primary,min_conn_count,max_conn_count) value ('host1','group1','172.100.9.5',3306,'test','111111','false','true',1,99)                              | update syntax error, not support insert with syntax        | dble_information |
      | conn_0 | false    | insert into dble_db_instance (name,db_group,addr,port,user,password_encrypt,encrypt_configured,primary,min_conn_count,max_conn_count) value ('host1','group1','172.100.9.5',3306,'test','111111','false','true',1,99) ON DUPLICATE KEY UPDATE port=3307   | update syntax error, not support insert with syntax        | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM6',db_group='ha_group6',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',primary='true',min_conn_count=4,max_conn_count=9                                        | You have an error in your SQL syntax                       | dble_information |
      | conn_0 | false    | insert dble_db_instance name select name from dble_db_instance                                                                                                                                                                                            | Insert syntax error,not support insert ... select          | dble_information |
# DBLE0REQ-1100
      | conn_0 | false    | insert into dble_db_instance (name,db_group,addr,port,user,password_encrypt,encrypt_configured,primary,min_conn_count,max_conn_count,active_conn_count) value ('host10','ha_group10','172.100.9.5',3306,'test','111111','false','true',1,99,0)            | Column 'active_conn_count' is not writable       | dble_information |
      | conn_0 | false    | insert into dble_db_instance (name,db_group,addr,port,user,password_encrypt,encrypt_configured,primary,min_conn_count,max_conn_count,active_conn_count) value ('host10','ha_group10','172.100.9.5',3306,'test','111111','false','true',1,99,1)            | Column 'active_conn_count' is not writable       | dble_information |
      | conn_0 | false    | insert into dble_db_instance (name,db_group,addr,port,user,password_encrypt,encrypt_configured,primary,min_conn_count,max_conn_count,idle_conn_count) value ('host9','ha_group9','172.100.9.5',3306,'test','111111','false','true',1,99,1)                | Column 'idle_conn_count' is not writable       | dble_information |
      | conn_0 | false    | insert into dble_db_instance (name,db_group,addr,port,user,password_encrypt,encrypt_configured,primary,min_conn_count,max_conn_count,read_conn_request) value ('host8','ha_group8','172.100.9.5',3306,'test','111111','false','true',1,99,1)              | Column 'read_conn_request' is not writable       | dble_information |
      | conn_0 | false    | insert into dble_db_instance (name,db_group,addr,port,user,password_encrypt,encrypt_configured,primary,min_conn_count,max_conn_count,write_conn_request) value ('host9','ha_group9','172.100.9.5',3306,'test','111111','false','true',1,99,1)             | Column 'write_conn_request' is not writable       | dble_information |
      | conn_0 | false    | insert into dble_db_instance (name,db_group,addr,port,user,password_encrypt,encrypt_configured,primary,min_conn_count,max_conn_count,write_conn_request) value ('host10','ha_group10','172.100.9.5',3306,'test','111111','false','true',1,99,1)           | Column 'write_conn_request' is not writable                 | dble_information |
      | conn_0 | false    | insert into dble_db_instance (name,db_group,addr,port,user,password_encrypt,encrypt_configured,primary,min_conn_count,max_conn_count,last_heartbeat_ack_timestamp) value ('host9','ha_group9','172.100.9.5',3306,'test','111111','false','true',1,99,1)                  | Column 'last_heartbeat_ack_timestamp' is not writable       | dble_information |
      | conn_0 | false    | insert into dble_db_instance (name,db_group,addr,port,user,password_encrypt,encrypt_configured,primary,min_conn_count,max_conn_count,last_heartbeat_ack) value ('host9','ha_group9','172.100.9.5',3306,'test','111111','false','true',1,99,'ok')                         | Column 'last_heartbeat_ack' is not writable                 | dble_information |
      | conn_0 | false    | insert into dble_db_instance (name,db_group,addr,port,user,password_encrypt,encrypt_configured,primary,min_conn_count,max_conn_count,heartbeat_status) value ('host9','ha_group9','172.100.9.5',3306,'test','111111','false','true',1,99,'ok')                           | Column 'heartbeat_status' is not writable                   | dble_information |
      | conn_0 | false    | insert into dble_db_instance (name,db_group,addr,port,user,password_encrypt,encrypt_configured,primary,min_conn_count,max_conn_count,heartbeat_failure_in_last_5min) value ('host9','ha_group9','172.100.9.5',3306,'test','111111','false','true',1,99,0)                | Column 'heartbeat_failure_in_last_5min' is not writable     | dble_information |
      | conn_0 | false    | insert into dble_db_instance (name,db_group,addr,port,user,password_encrypt,encrypt_configured,primary,min_conn_count) value ('host9','ha_group9','172.100.9.5',3306,'test','111111','false','true',1)                                                    | Field '[max_conn_count]' doesn't have a default value and cannot be null                      | dble_information |
      | conn_0 | false    | insert into dble_in.dble_db_instance set name='hostM6',db_group='ha_group6',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=4,max_conn_count=9                              | Unknown database 'dble_in'                                            | dble_information |
      | conn_0 | false    | insert into dble_db_instance (name,db_group,addr,port,user,password_encrypt,encrypt_configured,primary,min_conn_count,max_conn_count,active_conn_count) value ('host1','group1','172.100.9.5',3306,'test','111111','false','true',1,99,0)                 | Column 'active_conn_count' is not writable                            | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM6',db_group='ha_group6',addr='172.100.9.8',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=4,max_conn_count=9                                      | Duplicate entry 'hostM6-ha_group6' for key 'PRIMARY'                  | dble_information |
      | conn_0 | false    | insert into DBLE_db_instance (name,db_group,addr,port,user,password_encrypt,encrypt_configured,primary,min_conn_count,max_conn_count) value ('hostS4','ha_group4','172.100.9.5',3306,'test','111111','false','true',1,99)                                 | dbGroup[ha_group4]'s child url [172.100.9.5:3306]  duplicated!        | dble_information |
      | conn_0 | false    | insert into DBLE_db_instance (name,db_group,addr,port,user,password_encrypt,encrypt_configured,primary,min_conn_count,max_conn_count) value ('hostS4','ha_group4','172.100.9.2',3306,'test','111111','false','true',1,99)                                 | dbGroup[ha_group4] has multi primary instance!                        | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM8',db_group='ha_group8',addr='172.100.9.8',port=s,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=4,max_conn_count=9                                         | Not Supported of Value EXPR :s                                        | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM8',db_group='ha_group8',addr='172.100.9.8',port='s',user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=4,max_conn_count=9                                       | java.lang.NumberFormatException: For input string: "s"                | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM8',db_group='ha_group8',addr='172.100.9.8',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9                                      | there are some dbInstance connection failed, pls check these dbInstance:{dbInstance[ha_group8.hostM8]}    | dble_information |
#DBLE0REQ-1101
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=-1,max_conn_count=9.9                                   | Not Supported of Value EXPR :9.9                                                                          | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=-9                                     | Insert failure.The reason is Column 'max_conn_count' value cannot be less than 0                          | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=0,max_conn_count=9.9                                    | Not Supported of Value EXPR :9.9                                                                          | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr=1,port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9                                                  | there are some dbInstance connection failed, pls check these dbInstance:{dbInstance[ha_group9.hostM9]}    | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr=' ',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9                                                | Not Supported of Value EXPR :' '                                                                          | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name=' ',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9                                           | Not Supported of Value EXPR :' '                                                                          | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group=' ',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9                                              | Not Supported of Value EXPR :' '                                                                          | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user=' ',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9                                         | Not Supported of Value EXPR :' '                                                                          | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt=' ',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9                                           | Not Supported of Value EXPR :' '                                                                          | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured=' ',`primary`='true',min_conn_count=1,max_conn_count=9                                          | Not Supported of Value EXPR :' '                                                                          | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`=' ',min_conn_count=1,max_conn_count=9                                         | Not Supported of Value EXPR :' '                                                                          | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=' ',max_conn_count=9                                    | Not Supported of Value EXPR :' '                                                                          | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=' '                                    | Not Supported of Value EXPR :' '                                                                          | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='0',`primary`='true',min_conn_count=1,max_conn_count=9                                          | The reason is Column 'encrypt_configured' values only support 'false' or 'true'                           | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='1',min_conn_count=1,max_conn_count=9                                         | The reason is Column 'primary' values only support 'false' or 'true'                                      | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=33.7,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9                                      | Not Supported of Value EXPR :33.7                                                                         | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3307,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9                                      | there are some dbInstance connection failed, pls check these dbInstance:{dbInstance[ha_group9.hostM9]}    | dble_information |

      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr=null,port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9                                               | Column 'addr' cannot be null                | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='null',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9                                             | Not Supported of Value EXPR :'null'         | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name=null,db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9                                          | Column 'name' cannot be null                | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='null',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9                                           | Not Supported of Value EXPR :'null'         | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group=null,addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9                                             | Column 'db_group' cannot be null            | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user=null,password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9                                        | Column 'user' cannot be null                | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt=null,encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9                                          | Column 'password_encrypt' cannot be null    | dble_information |
#      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured=null,`primary`='true',min_conn_count=1,max_conn_count=9                                         | Not Supported of Value EXPR :NULL           | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`=null,min_conn_count=1,max_conn_count=9                                        | Column 'primary' cannot be null             | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=null,max_conn_count=9                                   | Column 'min_conn_count' cannot be null      | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=null                                   | Column 'max_conn_count' cannot be null      | dble_information |

      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,disabled='1'                       | Insert failure.The reason is Column 'disabled' values only support 'false' or 'true'      | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,disabled='null'                    | Not Supported of Value EXPR :'null'                                                       | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,disabled=' '                       | Not Supported of Value EXPR :' '                                                          | dble_information |

      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,read_weight='null'                 | Not Supported of Value EXPR :'null'                                   | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,read_weight=' '                    | Not Supported of Value EXPR :' '                                      | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,read_weight='0B01'                 | java.lang.NumberFormatException: For input string: "0B01"             | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,read_weight=0B01                   | Not Supported of Value EXPR :0B01                                     | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,read_weight=-1                     | readWeight attribute in dbInstance[hostM9] can't be less than 0!      | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,read_weight=1.3                    | Not Supported of Value EXPR :1.3                                      | dble_information |
#      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,read_weight=null                   | Not Supported of Value EXPR :NULL                                     | dble_information |

      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,id='null'                 | Not Supported of Value EXPR :'null'            | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,id=' '                    | Not Supported of Value EXPR :' '               | dble_information |
#      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,id='0B01'                 |              | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,id=0B01                   | Not Supported of Value EXPR :0B01                                     | dble_information |
#      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,id=-1                     |       | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,id=1.3                    | Not Supported of Value EXPR :1.3                                     | dble_information |
#      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,id=null                   | Not Supported of Value EXPR :NULL                                     | dble_information |
#
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,connection_timeout='null'                 | Not Supported of Value EXPR :'null'             | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,connection_timeout=' '                    | Not Supported of Value EXPR :' '                | dble_information |
#      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,connection_timeout='0B01'                 |               | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,connection_timeout=0B01                   | Not Supported of Value EXPR :0B01                                     | dble_information |
#      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,connection_timeout=-1                     |       | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,connection_timeout=1.3                    | Not Supported of Value EXPR :1.3                                     | dble_information |
#      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,connection_timeout=null                   | Not Supported of Value EXPR :NULL                                     | dble_information |

      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,connection_heartbeat_timeout='null'                 | Not Supported of Value EXPR :'null'          | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,connection_heartbeat_timeout=' '                    | Not Supported of Value EXPR :' '             | dble_information |
#      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,connection_heartbeat_timeout='0B01'                 |               | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,connection_heartbeat_timeout=0B01                   | Not Supported of Value EXPR :0B01                                     | dble_information |
#      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,connection_timeout=-1                              |       | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,connection_heartbeat_timeout=1.3                    | Not Supported of Value EXPR :1.3                                     | dble_information |
#      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,connection_heartbeat_timeout=null                   | Not Supported of Value EXPR :NULL                                     | dble_information |
#
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,time_between_eviction_runs_millis='null'                  | Not Supported of Value EXPR :'null'            | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,time_between_eviction_runs_millis=' '                     | Not Supported of Value EXPR :' '               | dble_information |
#      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,time_between_eviction_runs_millis='0B01'                 |               | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,time_between_eviction_runs_millis=0B01                   | Not Supported of Value EXPR :0B01                                     | dble_information |
#      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,time_between_eviction_runs_millis=-1                     |       | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,time_between_eviction_runs_millis=1.3                    | Not Supported of Value EXPR :1.3                                     | dble_information |
#      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,time_between_eviction_runs_millis=null                   | Not Supported of Value EXPR :NULL                                     | dble_information |
#
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,evictor_shutdown_timeout_millis='null'                 | Not Supported of Value EXPR :'null'            | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,evictor_shutdown_timeout_millis=' '                    | Not Supported of Value EXPR :' '               | dble_information |
#      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,evictor_shutdown_timeout_millis='0B01'                 |               | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,evictor_shutdown_timeout_millis=0B01                   | Not Supported of Value EXPR :0B01                                     | dble_information |
#      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,evictor_shutdown_timeout_millis=-1                     |       | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,evictor_shutdown_timeout_millis=1.3                    | Not Supported of Value EXPR :1.3                                     | dble_information |
#      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,evictor_shutdown_timeout_millis=null                   | Not Supported of Value EXPR :NULL                                     | dble_information |

      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,idle_timeout='null'                 | Not Supported of Value EXPR :'null'             | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,idle_timeout=' '                    | Not Supported of Value EXPR :' '                | dble_information |
#      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,idle_timeout='0B01'                 |               | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,idle_timeout=0B01                   | Not Supported of Value EXPR :0B01                                     | dble_information |
#      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,idle_timeout=-1                     |       | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,idle_timeout=1.3                    | Not Supported of Value EXPR :1.3                                     | dble_information |
#      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,idle_timeout=null                   | Not Supported of Value EXPR :NULL                                     | dble_information |
#
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,heartbeat_period_millis='null'                 |  Not Supported of Value EXPR :'null'             | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,heartbeat_period_millis=' '                    |  Not Supported of Value EXPR :' '                | dble_information |
#      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,heartbeat_period_millis='0B01'                 |               | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,heartbeat_period_millis=0B01                   | Not Supported of Value EXPR :0B01                                     | dble_information |
#      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,heartbeat_period_millis=-1                     |       | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,heartbeat_period_millis=1.3                    | Not Supported of Value EXPR :1.3                                     | dble_information |
#      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,heartbeat_period_millis=null                   | Not Supported of Value EXPR :NULL                                     | dble_information |

      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,test_on_create='null'                 | Not Supported of Value EXPR :'null'                                                                     | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,test_on_create=' '                    | Not Supported of Value EXPR :' '                                                                        | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,test_on_create='0B01'                 | Insert failure.The reason is Column 'test_on_create' values only support 'false' or 'true'              | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,test_on_create=0B01                   | Not Supported of Value EXPR :0B01                                                                       | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,test_on_create=-1                     | Insert failure.The reason is Column 'test_on_create' values only support 'false' or 'true'.             | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,test_on_create=1.3                    | Not Supported of Value EXPR :1.3                                                                        | dble_information |
#      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,test_on_create=null                   | Not Supported of Value EXPR :NULL                                                                       | dble_information |

      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,test_on_borrow='null'                 | Not Supported of Value EXPR :'null'                                                                     | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,test_on_borrow=' '                    | Not Supported of Value EXPR :' '                                                                        | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,test_on_borrow='0B01'                 | Insert failure.The reason is Column 'test_on_borrow' values only support 'false' or 'true'              | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,test_on_borrow=0B01                   | Not Supported of Value EXPR :0B01                                                                       | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,test_on_borrow=-1                     | Insert failure.The reason is Column 'test_on_borrow' values only support 'false' or 'true'.             | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,test_on_borrow=1.3                    | Not Supported of Value EXPR :1.3                                                                        | dble_information |
#      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,test_on_borrow=null                   | Not Supported of Value EXPR :NULL                                                                       | dble_information |

      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,test_on_return='null'                 | Not Supported of Value EXPR :'null'                                                                     | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,test_on_return=' '                    | Not Supported of Value EXPR :' '                                                                        | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,test_on_return='0B01'                 | Insert failure.The reason is Column 'test_on_return' values only support 'false' or 'true'              | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,test_on_return=0B01                   | Not Supported of Value EXPR :0B01                                                                       | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,test_on_return=-1                     | Insert failure.The reason is Column 'test_on_return' values only support 'false' or 'true'.             | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,test_on_return=1.3                    | Not Supported of Value EXPR :1.3                                                                        | dble_information |
#      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,test_on_return=null                   | Not Supported of Value EXPR :NULL                                                                       | dble_information |

      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,test_while_idle='null'                | Not Supported of Value EXPR :'null'                                                                      | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,test_while_idle=' '                   | Not Supported of Value EXPR :' '                                                                         | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,test_while_idle='0B01'                | Insert failure.The reason is Column 'test_while_idle' values only support 'false' or 'true'              | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,test_while_idle=0B01                  | Not Supported of Value EXPR :0B01                                                                        | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,test_while_idle=-1                    | Insert failure.The reason is Column 'test_while_idle' values only support 'false' or 'true'.             | dble_information |
      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,test_while_idle=1.3                   | Not Supported of Value EXPR :1.3                                                                         | dble_information |
#      | conn_0 | false    | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=1,max_conn_count=9,test_while_idle=null                   | Not Supported of Value EXPR :NULL                                                                        | dble_information |

    Then check following text exist "N" in file "/opt/dble/logs/dble.log" in host "dble-1"
      """
      NullPointerException
      """



  Scenario: test the langreage of insert in dble manager   ---- dble_rw_split_entry  #3
    Given execute sql in "dble-1" in "admin" mode
      | conn   | toClose | sql                                                                  | expect      | db               |
      | conn_0 | false   | select * from dble_rw_split_entry                                    | length{(0)} | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry (username,password_encrypt,encrypt_configured,conn_attr_key,conn_attr_value,white_ips,max_conn_count,db_group) value ('rw1','111111','false','tenant','tenant1','%.%.%.1','100','ha_group3')                                         | success        | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry (username,password_encrypt,encrypt_configured,conn_attr_key,conn_attr_value,white_ips,max_conn_count,db_group) values ('rw2','111111','false','tenant','tenant2','172.100.9.2/20','100','ha_group4')                                 | success        | dble_information |
      | conn_0 | false   | insert into dble_information.dble_rw_split_entry (username,password_encrypt,encrypt_configured,conn_attr_key,conn_attr_value,white_ips,max_conn_count,db_group) value ('rw3','111111','false','tenant','tenant3','fe80::fea4:9473:b424:bb41/64','1','ha_group5')     | success        | dble_information |
      | conn_0 | false   | insert into Dble_information.dble_rw_split_entry (username,password_encrypt,encrypt_configured,conn_attr_key,conn_attr_value,white_ips,max_conn_count,db_group) value ('rw4','111111','false','tenant','tenant4','172.100.9.7-172.100.9.3',0,'ha_group6')            | success        | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry (username,password_encrypt,encrypt_configured,white_ips,max_conn_count,db_group) value ('rw5','FmMxCqFCorImAesW5TbLHbEHaaN+pHAVSXAvlDry5ZW3ZWkIymOMJyXF3Jrg9IKJVArxPQ3YKKisnGmiwCOOJg==','true','::1','100','ha_group4')             | success        | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry (username,password_encrypt,encrypt_configured,max_conn_count,db_group) values ('rw6','111111','false','100','ha_group3'),('rw7','111111','false','100','ha_group4'),('rw8','111111','false','100','ha_group5')                       | success        | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry set username='rw9',password_encrypt='111111',encrypt_configured='false',conn_attr_key='tenant',conn_attr_value='tenant5',white_ips='172.%.9.%,172.100.%.1',max_conn_count=99,db_group='ha_group6'                                    | success        | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry set username='rw10',password_encrypt='111111',encrypt_configured='false',max_conn_count='100',db_group='ha_group6'                                                                                                                   | success        | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry (username,password_encrypt,encrypt_configured,conn_attr_value,conn_attr_key,white_ips,max_conn_count,db_group) value ('rw20','111111','false','tenant00','tenant','%.%.%.1','100','ha_group7')                                       | success        | dble_information |

    Given execute single sql in "dble-1" in "admin" mode and save resultset in "dble_rw_split_entry_1"
      | conn   | toClose | sql                                          | db               |
      | conn_0 | true    | select * from dble_rw_split_entry            | dble_information |
    Then check resultset "dble_rw_split_entry_1" has lines with following column values
      | id-0 | type-1    | username-2 | encrypt_configured-4 | conn_attr_key-5 | conn_attr_value-6 | white_ips-7                  | max_conn_count-8 | blacklist-9 | db_group-10 |
      | 3    | conn_attr | rw1        | false                | tenant          | tenant1           | %.%.%.1                      | 100              | None        | ha_group3   |
      | 4    | conn_attr | rw2        | false                | tenant          | tenant2           | 172.100.9.2/20               | 100              | None        | ha_group4   |
      | 5    | conn_attr | rw3        | false                | tenant          | tenant3           | fe80::fea4:9473:b424:bb41/64 | 1                | None        | ha_group5   |
      | 6    | conn_attr | rw4        | false                | tenant          | tenant4           | 172.100.9.7-172.100.9.3      | no limit         | None        | ha_group6   |
      | 7    | username  | rw5        | true                 | None            | None              | ::1                          | 100              | None        | ha_group4   |
      | 8    | username  | rw6        | false                | None            | None              | None                         | 100              | None        | ha_group3   |
      | 9    | username  | rw7        | false                | None            | None              | None                         | 100              | None        | ha_group4   |
      | 10   | username  | rw8        | false                | None            | None              | None                         | 100              | None        | ha_group5   |
      | 11   | conn_attr | rw9        | false                | tenant          | tenant5           | 172.%.9.%,172.100.%.1        | 99               | None        | ha_group6   |
      | 12   | username  | rw10       | false                | None            | None              | None                         | 100              | None        | ha_group6   |
      | 13   | conn_attr | rw20       | false                | tenant          | tenant00          | %.%.%.1                      | 100              | None        | ha_group7   |

    Then execute "admin" cmd  in "dble-1" at background
      | conn   | toClose | sql                         | db               |
      | conn_1 | True    | select * from dble_config   | dble_information |
    Given sleep "2" seconds
    Then check following text exist "Y" in file "/tmp/dble_admin_query.log" in host "dble-1"
    """
    "user":\[
    {"type":"ManagerUser","properties":{"name":"root","password":"111111"}},
    {"type":"ShardingUser","properties":{"schemas":"schema1","name":"test","password":"111111"}},
    {"type":"RwSplitUser","properties":{"dbGroup":"ha_group3","tenant":"tenant1","name":"rw1","password":"111111","usingDecrypt":"false","whiteIPs":"%.%.%.1","maxCon":100}},
    {"type":"RwSplitUser","properties":{"dbGroup":"ha_group4","tenant":"tenant2","name":"rw2","password":"111111","usingDecrypt":"false","whiteIPs":"172.100.9.2/20","maxCon":100}},
    {"type":"RwSplitUser","properties":{"dbGroup":"ha_group5","tenant":"tenant3","name":"rw3","password":"111111","usingDecrypt":"false","whiteIPs":"fe80::fea4:9473:b424:bb41/64","maxCon":1}},
    {"type":"RwSplitUser","properties":{"dbGroup":"ha_group6","tenant":"tenant4","name":"rw4","password":"111111","usingDecrypt":"false","whiteIPs":"172.100.9.7-172.100.9.3","maxCon":0}},
    {"type":"RwSplitUser","properties":{"dbGroup":"ha_group4","name":"rw5","password":"FmMxCqFCorImAesW5TbLHbEHaaN+pHAVSXAvlDry5ZW3ZWkIymOMJyXF3Jrg9IKJVArxPQ3YKKisnGmiwCOOJg==","usingDecrypt":"true","whiteIPs":"::1","maxCon":100}},
    {"type":"RwSplitUser","properties":{"dbGroup":"ha_group3","name":"rw6","password":"111111","usingDecrypt":"false","maxCon":100}},
    {"type":"RwSplitUser","properties":{"dbGroup":"ha_group4","name":"rw7","password":"111111","usingDecrypt":"false","maxCon":100}},
    {"type":"RwSplitUser","properties":{"dbGroup":"ha_group5","name":"rw8","password":"111111","usingDecrypt":"false","maxCon":100}},
    {"type":"RwSplitUser","properties":{"dbGroup":"ha_group6","tenant":"tenant5","name":"rw9","password":"111111","usingDecrypt":"false","whiteIPs":"172.%.9.%,172.100.%.1","maxCon":99}},
    {"type":"RwSplitUser","properties":{"dbGroup":"ha_group6","name":"rw10","password":"111111","usingDecrypt":"false","maxCon":100}},
    {"type":"RwSplitUser","properties":{"dbGroup":"ha_group7","tenant":"tenant00","name":"rw20","password":"111111","usingDecrypt":"false","whiteIPs":"%.%.%.1","maxCon":100}
    """


    Given execute sql in "dble-1" in "admin" mode
      | conn   | toClose  | sql                      | expect      | db               |
      | conn_0 | false   | insert LOW_PRIORITY into dble_rw_split_entry (username,password_encrypt,encrypt_configured,white_ips,max_conn_count,db_group) value ('rw','111111','false','::1','100','ha_group4')                           | update syntax error, not support insert with syntax        | dble_information |
      | conn_0 | false   | insert DELAYED into dble_rw_split_entry (username,password_encrypt,encrypt_configured,white_ips,max_conn_count,db_group) value ('rw','111111','false','::1','100','ha_group4')                                | update syntax error, not support insert with syntax        | dble_information |
      | conn_0 | false   | insert HIGH_PRIORITY into dble_rw_split_entry (username,password_encrypt,encrypt_configured,white_ips,max_conn_count,db_group) value ('rw','111111','false','::1','100','ha_group4')                          | update syntax error, not support insert with syntax        | dble_information |
      | conn_0 | false   | insert IGNORE into dble_rw_split_entry (username,password_encrypt,encrypt_configured,white_ips,max_conn_count,db_group) value ('rw','111111','false','::1','100','ha_group4')                                 | update syntax error, not support insert with syntax        | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry (username,password_encrypt,encrypt_configured,white_ips,max_conn_count,db_group) value ('rw','111111','false','::1','100','ha_group4') ON DUPLICATE KEY UPDATE username='r'   | update syntax error, not support insert with syntax        | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry username select username from dble_rw_split_entry                                                                                                                             | Insert syntax error,not support insert ... select          | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry set id=4,username='R10',password_encrypt='111111',encrypt_configured='false',max_conn_count='100',db_group='ha_group6'                       | Column 'id' is not writable          | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry set type='username',username='R10',password_encrypt='111111',encrypt_configured='false',max_conn_count='100',db_group='ha_group6'            | Column 'type' is not writable        | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry set blacklist='blacklist1',username='R10',password_encrypt='111111',encrypt_configured='false',max_conn_count='100',db_group='ha_group6'     | Column 'blacklist' is not writable   | dble_information |
      | conn_0 | false   | insert into dble_in.dble_rw_split_entry set username='R10',password_encrypt='111111',encrypt_configured='false',max_conn_count='100',db_group='ha_group6'                    | Unknown database 'dble_in'           | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry (username,password_encrypt,encrypt_configured,conn_attr_key,conn_attr_value,white_ips,max_conn_count,db_group) value ('RW1','111111','false','tenant','tenant1','%.%.%.1','100')    | Column count doesn't match value count at row 1        | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry (username,password_encrypt,encrypt_configured,conn_attr_key,conn_attr_value,white_ips,max_conn_count,db_group) value ('rw1','111111','false','tenant','tenant1','%.%.%.1','100','ha_group3')      | Duplicate entry 'rw1-tenant-tenant1'for logical unique 'username-conn_attr_key-conn_attr_value'        | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry set username='rw10',password_encrypt='111111',encrypt_configured='false',max_conn_count='100',db_group='ha_group6'                                                                                | Duplicate entry 'rw10-null-null'for logical unique 'username-conn_attr_key-conn_attr_value'            | dble_information |
#DBLE0REQ-1126
      | conn_0 | false   | insert into dble_rw_split_entry set username='rw111',password_encrypt='111111',encrypt_configured='false',conn_attr_key='tenant',max_conn_count='100',db_group='ha_group6'            | Insert failure.The reason is 'conn_attr_key' and 'conn_attr_value' are used together        | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry set username='rw112',password_encrypt='111111',encrypt_configured='false',conn_attr_value='tenant',max_conn_count='100',db_group='ha_group6'          | Insert failure.The reason is 'conn_attr_key' and 'conn_attr_value' are used together        | dble_information |
#DBLE0REQ-1127
      | conn_0 | false   | insert into dble_rw_split_entry set username='null',password_encrypt='111111',encrypt_configured='false',max_conn_count='100',db_group='ha_group6'             | Not Supported of Value EXPR :'null'        | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry set username=' ',password_encrypt='111111',encrypt_configured='false',max_conn_count='100',db_group='ha_group6'                | Not Supported of Value EXPR :' '           | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry set username=null,password_encrypt='111111',encrypt_configured='false',max_conn_count='100',db_group='ha_group6'               | Column 'username' cannot be null           | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry set username=0B01,password_encrypt='111111',encrypt_configured='false',max_conn_count='100',db_group='ha_group6'               | Not Supported of Value EXPR :0B01          | dble_information |
#      | conn_0 | false   | insert into dble_rw_split_entry set username=-1,password_encrypt='111111',encrypt_configured='false',max_conn_count='100',db_group='ha_group6'                 | success        | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry set username=1.3,password_encrypt='111111',encrypt_configured='false',max_conn_count='100',db_group='ha_group6'                | Not Supported of Value EXPR :1.3        | dble_information |

      | conn_0 | false   | insert into dble_rw_split_entry set username='0B01',password_encrypt='null',encrypt_configured='false',max_conn_count='100',db_group='ha_group6'             | Not Supported of Value EXPR :'null'             | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry set username='0B02',password_encrypt=' ',encrypt_configured='false',max_conn_count='100',db_group='ha_group6'                | Not Supported of Value EXPR :' '                | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry set username='0B03',password_encrypt=null,encrypt_configured='false',max_conn_count='100',db_group='ha_group6'               | Column 'password_encrypt' cannot be null        | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry set username='0B05',password_encrypt=0B01,encrypt_configured='false',max_conn_count='100',db_group='ha_group6'               | Not Supported of Value EXPR :0B01        | dble_information |
#      | conn_0 | false   | insert into dble_rw_split_entry set username='0B06',password_encrypt=-1,encrypt_configured='false',max_conn_count='100',db_group='ha_group6'                 | success        | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry set username='0B07',password_encrypt=1.3,encrypt_configured='false',max_conn_count='100',db_group='ha_group6'                | Not Supported of Value EXPR :1.3        | dble_information |

      | conn_0 | false   | insert into dble_rw_split_entry set username='0B01',password_encrypt='111111',encrypt_configured='null',max_conn_count='100',db_group='ha_group6'          | Not Supported of Value EXPR :'null'                                                            | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry set username='0B02',password_encrypt='111111',encrypt_configured=' ',max_conn_count='100',db_group='ha_group6'             | Not Supported of Value EXPR :' '                                                               | dble_information |
#      | conn_0 | false   | insert into dble_rw_split_entry set username='0B03',password_encrypt='111111',encrypt_configured=null,max_conn_count='100',db_group='ha_group6'            | Not Supported of Value EXPR :NULL                                                               | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry set username='0B04',password_encrypt='111111',encrypt_configured='0B01',max_conn_count='100',db_group='ha_group6'          | Insert failure.The reason is Column 'encrypt_configured' values only support 'false' or 'true'  | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry set username='0B05',password_encrypt='111111',encrypt_configured=0B01,max_conn_count='100',db_group='ha_group6'            | Not Supported of Value EXPR :0B01                                                               | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry set username='0B06',password_encrypt='111111',encrypt_configured=-1,max_conn_count='100',db_group='ha_group6'              | Insert failure.The reason is Column 'encrypt_configured' values only support 'false' or 'true'  | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry set username='0B07',password_encrypt='111111',encrypt_configured=1.3,max_conn_count='100',db_group='ha_group6'             | Not Supported of Value EXPR :1.3                                                                | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry set username='0B07',password_encrypt='111111',encrypt_configured=1,max_conn_count='100',db_group='ha_group6'               | Insert failure.The reason is Column 'encrypt_configured' values only support 'false' or 'true'  | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry set username='0B07',password_encrypt='111111',encrypt_configured=0,max_conn_count='100',db_group='ha_group6'               | Insert failure.The reason is Column 'encrypt_configured' values only support 'false' or 'true'  | dble_information |

      | conn_0 | false   | insert into dble_rw_split_entry set username='0B01',password_encrypt='111111',encrypt_configured='false',max_conn_count='null',db_group='ha_group6'        | Not Supported of Value EXPR :'null'                                                | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry set username='0B02',password_encrypt='111111',encrypt_configured='false',max_conn_count=' ',db_group='ha_group6'           | Not Supported of Value EXPR :' '                                                   | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry set username='0B03',password_encrypt='111111',encrypt_configured='false',max_conn_count=null,db_group='ha_group6'          | Column 'max_conn_count' cannot be null                                             | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry set username='0B04',password_encrypt='111111',encrypt_configured='false',max_conn_count='0B01',db_group='ha_group6'        | Insert failure.The reason is incorrect integer value: '0B01'                       | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry set username='0B05',password_encrypt='111111',encrypt_configured='false',max_conn_count=0B01,db_group='ha_group6'          | Not Supported of Value EXPR :0B01                                                  | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry set username='0B06',password_encrypt='111111',encrypt_configured='false',max_conn_count=-1,db_group='ha_group6'            | Insert failure.The reason is Column 'max_conn_count' value cannot be less than 0   | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry set username='0B07',password_encrypt='111111',encrypt_configured='false',max_conn_count=1.3,db_group='ha_group6'           | Not Supported of Value EXPR :1.3                                                   | dble_information |

      | conn_0 | false   | insert into dble_rw_split_entry set username='0B01',password_encrypt='111111',encrypt_configured='false',max_conn_count=11,db_group='null'        | Not Supported of Value EXPR :'null'     | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry set username='0B02',password_encrypt='111111',encrypt_configured='false',max_conn_count=12,db_group=' '           | Not Supported of Value EXPR :' '        | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry set username='0B03',password_encrypt='111111',encrypt_configured='false',max_conn_count=13,db_group=null          | Column 'db_group' cannot be null                                                           | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry set username='0B04',password_encrypt='111111',encrypt_configured='false',max_conn_count=14,db_group='0B01'        | Insert failure.The reason is Column 'db_group' value '0B01' does not exist or not active   | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry set username='0B05',password_encrypt='111111',encrypt_configured='false',max_conn_count=15,db_group=0B01          | Not Supported of Value EXPR :0B01                                                          | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry set username='0B06',password_encrypt='111111',encrypt_configured='false',max_conn_count=16,db_group=-1            | Insert failure.The reason is Column 'db_group' value '-1' does not exist or not active     | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry set username='0B07',password_encrypt='111111',encrypt_configured='false',max_conn_count=17,db_group=1.3           | Not Supported of Value EXPR :1.3                                                           | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry set username='0B08',password_encrypt='111111',encrypt_configured='false',max_conn_count=0,db_group=0              | Insert failure.The reason is Column 'db_group' value '0' does not exist or not active      | dble_information |

      | conn_0 | false   | insert into dble_rw_split_entry set username='0B01',password_encrypt='111111',encrypt_configured='false',max_conn_count=11,db_group='ha_group6',white_ips='null'        | Not Supported of Value EXPR :'null'                                             | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry set username='0B02',password_encrypt='111111',encrypt_configured='false',max_conn_count=12,db_group='ha_group6',white_ips=' '           | Not Supported of Value EXPR :' '                                                | dble_information |
#      | conn_0 | false   | insert into dble_rw_split_entry set username='0B03',password_encrypt='111111',encrypt_configured='false',max_conn_count=13,db_group='ha_group6',white_ips=null          | Column 'db_group' cannot be null                                                           | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry set username='0B04',password_encrypt='111111',encrypt_configured='false',max_conn_count=14,db_group='ha_group6',white_ips='0B01'        | Insert failure.The reason is The configuration contains incorrect IP["0B01"]    | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry set username='0B05',password_encrypt='111111',encrypt_configured='false',max_conn_count=15,db_group='ha_group6',white_ips=0B01          | Not Supported of Value EXPR :0B01                                               | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry set username='0B06',password_encrypt='111111',encrypt_configured='false',max_conn_count=16,db_group='ha_group6',white_ips=-1            | Insert failure.The reason is The configuration contains incorrect IP["-1"]      | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry set username='0B07',password_encrypt='111111',encrypt_configured='false',max_conn_count=17,db_group='ha_group6',white_ips=1.3           | Not Supported of Value EXPR :1.3                                                | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry set username='0B08',password_encrypt='111111',encrypt_configured='false',max_conn_count=18,db_group='ha_group6',white_ips=0             | Insert failure.The reason is The configuration contains incorrect IP["0"]       | dble_information |

      | conn_0 | false   | insert into dble_rw_split_entry set username='0B01',password_encrypt='111111',encrypt_configured='false',max_conn_count=11,db_group='ha_group6',conn_attr_key='null',conn_attr_value='aa'        | Not Supported of Value EXPR :'null'                                                    | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry set username='0B02',password_encrypt='111111',encrypt_configured='false',max_conn_count=12,db_group='ha_group6',conn_attr_key=' ',conn_attr_value='aa'           | Not Supported of Value EXPR :' '                                                       | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry set username='0B03',password_encrypt='111111',encrypt_configured='false',max_conn_count=13,db_group='ha_group6',conn_attr_key=null,conn_attr_value='aa'          | Insert failure.The reason is 'conn_attr_key' and 'conn_attr_value' are used together   | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry set username='0B04',password_encrypt='111111',encrypt_configured='false',max_conn_count=14,db_group='ha_group6',conn_attr_key='0B01',conn_attr_value='aa'        | Insert failure.The reason is 'conn_attr_key' value is ['tenant',null]                  | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry set username='0B05',password_encrypt='111111',encrypt_configured='false',max_conn_count=15,db_group='ha_group6',conn_attr_key=0B01,conn_attr_value='aa'          | Not Supported of Value EXPR :0B01                                                      | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry set username='0B06',password_encrypt='111111',encrypt_configured='false',max_conn_count=16,db_group='ha_group6',conn_attr_key=-1,conn_attr_value='aa'            | Insert failure.The reason is 'conn_attr_key' value is ['tenant',null]                  | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry set username='0B07',password_encrypt='111111',encrypt_configured='false',max_conn_count=17,db_group='ha_group6',conn_attr_key=1.3,conn_attr_value='aa'           | Not Supported of Value EXPR :1.3                                                       | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry set username='0B08',password_encrypt='111111',encrypt_configured='false',max_conn_count=18,db_group='ha_group6',conn_attr_key=0,conn_attr_value='aa'             | Insert failure.The reason is 'conn_attr_key' value is ['tenant',null]                  | dble_information |

      | conn_0 | false   | insert into dble_rw_split_entry set username='0B01',password_encrypt='111111',encrypt_configured='false',max_conn_count=11,db_group='ha_group6',conn_attr_value='null',conn_attr_key='tenant'        | Not Supported of Value EXPR :'null'                                                    | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry set username='0B02',password_encrypt='111111',encrypt_configured='false',max_conn_count=12,db_group='ha_group6',conn_attr_value=' ',conn_attr_key='tenant'           | Not Supported of Value EXPR :' '                                                       | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry set username='0B03',password_encrypt='111111',encrypt_configured='false',max_conn_count=13,db_group='ha_group6',conn_attr_value=null,conn_attr_key='tenant'          | Insert failure.The reason is 'conn_attr_key' and 'conn_attr_value' are used together   | dble_information |
#      | conn_0 | false   | insert into dble_rw_split_entry set username='0B04',password_encrypt='111111',encrypt_configured='false',max_conn_count=14,db_group='ha_group6',conn_attr_value='0B01',conn_attr_key='tenant'        |     | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry set username='0B05',password_encrypt='111111',encrypt_configured='false',max_conn_count=15,db_group='ha_group6',conn_attr_value=0B01,conn_attr_key='tenant'          | Not Supported of Value EXPR :0B01                                                      | dble_information |
#      | conn_0 | false   | insert into dble_rw_split_entry set username='0B06',password_encrypt='111111',encrypt_configured='false',max_conn_count=16,db_group='ha_group6',conn_attr_value=-1,conn_attr_key='tenant'            |       | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry set username='0B07',password_encrypt='111111',encrypt_configured='false',max_conn_count=17,db_group='ha_group6',conn_attr_value=1.3,conn_attr_key='tenant'           | Not Supported of Value EXPR :1.3                                                       | dble_information |
#      | conn_0 | false   | insert into dble_rw_split_entry set username='0B08',password_encrypt='111111',encrypt_configured='false',max_conn_count=18,db_group='ha_group6',conn_attr_value=0,conn_attr_key='tenant'            |      | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry set username='0B01',password_encrypt='111111',encrypt_configured='false',max_conn_count=11,db_group='ha_group6',conn_attr_value='null',conn_attr_key='null'          | Not Supported of Value EXPR :'null'                                                    | dble_information |
#      | conn_0 | false   | insert into dble_rw_split_entry set username='0B01',password_encrypt='111111',encrypt_configured='false',max_conn_count=11,db_group='ha_group6',conn_attr_value=null,conn_attr_key=null              | Not Supported of Value EXPR :'null'                                                    | dble_information |

    Given execute sql in "dble-1" in "admin" mode
      | conn   | toClose | sql                                      | expect       | db               |
      | conn_0 | true    | select * from dble_rw_split_entry        | length{(11)} | dble_information |

    Then check following text exist "N" in file "/opt/dble/logs/dble.log" in host "dble-1"
      """
      NullPointerException
      """


  @skip
# _restart
  Scenario:  test the langreage of update in dble manager ----- dble_db_group #4
   Given execute sql in "dble-1" in "admin" mode
      | conn   | toClose | sql                                                                                                                                                                                                   | expect      | db               |
      | conn_0 | false   | insert into dble_db_group (name,heartbeat_stmt,heartbeat_timeout,heartbeat_retry,rw_split_mode,delay_threshold,disable_ha) value ('ha_group3','select 1',60,1,1,-1,'false')                           | success     | dble_information |
      | conn_0 | false   | insert into dble_db_group (name,heartbeat_stmt,heartbeat_timeout,heartbeat_retry,rw_split_mode,delay_threshold,disable_ha) values ('ha_group4','select 2',100,1,2,1000,'false')                       | success     | dble_information |
      | conn_0 | false   | insert into dble_information.dble_db_group (name,heartbeat_stmt,heartbeat_timeout,heartbeat_retry,rw_split_mode,delay_threshold,disable_ha) value ('ha_group5','show slave status',88,1,2,999,'true') | success     | dble_information |
      | conn_0 | false   | insert into DBLE_db_group (NAME,heartbeat_stmt,heartbeat_timeout,heartbeat_retry,rw_split_mode,delay_threshold,disable_ha) value ('ha_group6','select @@read_only',1,2,0,-1,'true')                   | success     | dble_information |
      | conn_0 | false   | insert into DBLE_db_group (NAME,heartbeat_stmt,rw_split_mode) values ('ha_group7','select 3',1),('ha_group8','select 4',2)                                                                            | success     | dble_information |
      | conn_0 | false   | insert into DBLE_db_group set name='ha_group9',heartbeat_stmt='select 5',rw_split_mode=1                                                                                                              | success     | dble_information |
      | conn_0 | false   | insert into DBLE_db_group set name='ha_group10',heartbeat_stmt='select user',rw_split_mode=2,disable_ha='true'                                                                                        | success     | dble_information |

      | conn_0 | false   | insert into dble_db_instance (name,db_group,addr,port,user,password_encrypt,encrypt_configured,primary,disabled,min_conn_count,max_conn_count,read_weight,id,connection_timeout,connection_heartbeat_timeout,test_on_create,test_on_borrow,test_on_return,test_while_idle,time_between_eviction_runs_millis,evictor_shutdown_timeout_millis,idle_timeout,heartbeat_period_millis) value ('hostM3','ha_group3','172.100.9.1',3306,'test','111111','false','true','true',10,1000,1,'hostM3',30000,200,'false','false','false','false',1,1,1,1)                     | success   | dble_information |
      | conn_0 | false   | insert into dble_information.dble_db_instance (name,db_group,addr,port,user,password_encrypt,encrypt_configured,primary,disabled,min_conn_count,max_conn_count,read_weight,id,connection_timeout,connection_heartbeat_timeout,test_on_create,test_on_borrow,test_on_return,test_while_idle,time_between_eviction_runs_millis,evictor_shutdown_timeout_millis,idle_timeout,heartbeat_period_millis) value ('hostS31','ha_group3','172.100.9.2',3306,'test','111111','false','false','false',1,10,2,'hostS31',3,1,'true','true','true','true',2,2,2,2)             | success   | dble_information |
      | conn_0 | false   | insert into dble_db_instance (name,db_group,addr,port,user,password_encrypt,encrypt_configured,primary,disabled,min_conn_count,max_conn_count,read_weight,id,connection_timeout,connection_heartbeat_timeout,test_on_create,test_on_borrow,test_on_return,test_while_idle,time_between_eviction_runs_millis,evictor_shutdown_timeout_millis,idle_timeout,heartbeat_period_millis) value ('hostS32','ha_group3','172.100.9.3',3306,'test','111111','false','false','true',2,99,3,'hostS32',5,2,'false','false','false','false',1,1,1,1)                           | success   | dble_information |
      | conn_0 | false   | insert into DBLE_db_instance (name,db_group,addr,port,user,password_encrypt,encrypt_configured,primary,min_conn_count,max_conn_count) value ('hostM4','ha_group4','172.100.9.5',3306,'test','111111','false','true',1,99)                         | success        | dble_information |
      | conn_0 | false   | insert into DBLE_db_instance (NAME,db_group,addr,port,USER,password_encrypt,encrypt_configured,primary,min_conn_count,max_conn_count) value ('hostM5','ha_group5','172.100.9.10',3306,'test','111111','false','true',1,99)                        | success        | dble_information |
      | conn_0 | false   | insert into DBLE_db_instance (NAME,db_group,addr,port,USER,password_encrypt,encrypt_configured,primary,min_conn_count,max_conn_count) values ('hostS51','ha_group5','172.100.9.11',3306,'test','111111','false','false',0,99)                     | success        | dble_information |
      | conn_0 | false   | insert into DBLE_db_instance (NAME,db_group,addr,port,USER,password_encrypt,encrypt_configured,primary,min_conn_count,max_conn_count,read_weight) values ('hostS52','ha_group5','172.100.9.12',3306,'test','111111','false','false',0,99,3)       | success        | dble_information |
      | conn_0 | false   | insert into dble_db_instance set name='hostM6',db_group='ha_group6',addr='172.100.9.9',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=4,max_conn_count=9                              | success        | dble_information |
      | conn_0 | false   | insert into dble_db_instance set name='hostM7',db_group='ha_group7',addr='172.100.9.3',port=3306,user='test',password_encrypt='UHH6o0jOcaXRYzvyQrUN/P5avdmyoxpHO8B54y7+RkiIC73G1qgFr5X+mewtlC6p/v7Gc/NXD7sPDFB/kPM5aA==',encrypt_configured='true',`primary`='true',min_conn_count=4,max_conn_count=9,id='hostM7'                  | success        | dble_information |
      | conn_0 | false   | insert into dble_db_instance set name='hostM8',db_group='ha_group8',addr='172.100.9.5',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=4,max_conn_count=9                              | success        | dble_information |
      | conn_0 | false   | insert into dble_db_instance set name='hostM9',db_group='ha_group9',addr='172.100.9.6',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=4,max_conn_count=9                              | success        | dble_information |
      | conn_0 | false   | insert into dble_db_instance set name='hostM10',db_group='ha_group10',addr='172.100.9.6',port=3306,user='test',password_encrypt='111111',encrypt_configured='false',`primary`='true',min_conn_count=4,max_conn_count=9                              | success        | dble_information |

      | conn_0 | false   | insert into dble_rw_split_entry (username,password_encrypt,encrypt_configured,conn_attr_key,conn_attr_value,white_ips,max_conn_count,db_group) value ('rw1','111111','false','tenant','tenant1','%.%.%.1','100','ha_group3')                                         | success        | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry (username,password_encrypt,encrypt_configured,conn_attr_key,conn_attr_value,white_ips,max_conn_count,db_group) values ('rw2','111111','false','tenant','tenant2','172.100.9.2/20','100','ha_group4')                                 | success        | dble_information |
      | conn_0 | false   | insert into dble_information.dble_rw_split_entry (username,password_encrypt,encrypt_configured,conn_attr_key,conn_attr_value,white_ips,max_conn_count,db_group) value ('rw3','111111','false','tenant','tenant3','fe80::fea4:9473:b424:bb41/64','1','ha_group5')     | success        | dble_information |
      | conn_0 | false   | insert into Dble_information.dble_rw_split_entry (username,password_encrypt,encrypt_configured,conn_attr_key,conn_attr_value,white_ips,max_conn_count,db_group) value ('rw4','111111','false','tenant','tenant4','172.100.9.7-172.100.9.3',0,'ha_group6')            | success        | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry (username,password_encrypt,encrypt_configured,white_ips,max_conn_count,db_group) value ('rw5','FmMxCqFCorImAesW5TbLHbEHaaN+pHAVSXAvlDry5ZW3ZWkIymOMJyXF3Jrg9IKJVArxPQ3YKKisnGmiwCOOJg==','true','::1','100','ha_group4')             | success        | dble_information |
      | conn_0 | false   | insert into dble_rw_split_entry set username='rw9',password_encrypt='111111',encrypt_configured='false',conn_attr_key='tenant',conn_attr_value='tenant5',white_ips='172.%.9.%,172.100.%.1',max_conn_count=99,db_group='ha_group6'                                    | success        | dble_information |
      | conn_0 | true    | insert into dble_rw_split_entry set username='rw10',password_encrypt='111111',encrypt_configured='false',max_conn_count='100',db_group='ha_group6'                                                                                                                   | success        | dble_information |

    Given execute sql in "dble-1" in "admin" mode
      | conn   | toClose | sql                                                                                                       | expect  | db               |
      | conn_0 | false   | update dble_db_group set heartbeat_stmt='select 55' where name='ha_group1'                                | success | dble_information |
      | conn_0 | false   | update dble_db_group set heartbeat_timeout=100 where heartbeat_timeout=0                                  | success | dble_information |
      | conn_0 | false   | update dble_db_group set heartbeat_retry=10 where active='false'                                          | success | dble_information |
      | conn_0 | false   | update dble_db_group set rw_split_mode=2 where delay_threshold=-1                                         | success | dble_information |
      | conn_0 | false   | update dble_db_group set delay_threshold=1000 where active='false'                                        | success | dble_information |
      | conn_0 | false   | update dble_db_group set disable_ha='true' where heartbeat_stmt='select @@read_only'                      | success | dble_information |
      | conn_0 | false   | update dble_db_group set heartbeat_stmt='select user()',heartbeat_timeout=1 where delay_threshold=-1      | success | dble_information |
      | conn_0 | false   | update dble_db_group set heartbeat_stmt='select @a' where heartbeat_timeout=1 and heartbeat_retry!=1      | success | dble_information |
      | conn_0 | false   | update dble_db_group set heartbeat_retry=100 where rw_split_mode=2 or rw_split_mode=1 and rw_split_mode=0 | success | dble_information |
      | conn_0 | false   | update dble_db_group set delay_threshold=100 where rw_split_mode in (0,2)                                 | success | dble_information |
      | conn_0 | false   | update dble_db_group set delay_threshold=99,heartbeat_timeout=999 where rw_split_mode not in (0,2)        | success | dble_information |
      | conn_0 | false   | update dble_db_group set delay_threshold=88,heartbeat_timeout=888 where rw_split_mode >1                  | success | dble_information |
      | conn_0 | false   | update dble_db_group set delay_threshold=88,heartbeat_timeout=888 where rw_split_mode <1                  | success | dble_information |
      | conn_0 | false   | update dble_db_group set rw_split_mode=1 where heartbeat_stmt like 'select %'                             | success | dble_information |

    Given execute single sql in "dble-1" in "admin" mode and save resultset in "dble_db_group_1"
      | conn   | toClose | sql                         | db               |
      | conn_0 | true    | select * from dble_db_group  | dble_information |
    Then check resultset "dble_db_group_1" has lines with following column values
      | name-0     | heartbeat_stmt-1  | heartbeat_timeout-2 | heartbeat_retry-3 | rw_split_mode-4 | delay_threshold-5 | disable_ha-6 | active-7 |
      | ha_group5  | show slave status | 888                 | 100               | 2               | 88                | true         | true     |
      | ha_group4  | select 2          | 888                 | 100               | 1               | 88                | false        | true     |
      | ha_group10 | select user()     | 888                 | 100               | 1               | 88                | true         | true     |
      | ha_group6  | select @a         | 888                 | 100               | 1               | 88                | true         | true     |
      | ha_group9  | select user()     | 888                 | 100               | 1               | 88                | false        | true     |
      | ha_group7  | select user()     | 888                 | 100               | 1               | 88                | false        | true     |
      | ha_group3  | select user()     | 888                 | 100               | 1               | 88                | false        | true     |
      | ha_group8  | select user()     | 888                 | 100               | 1               | 88                | false        | true     |
      | ha_group2  | select user()     | 888                 | 1                 | 1               | 88                | false        | true     |
      | ha_group1  | select 55         | 888                 | 1                 | 1               | 88                | false        | true     |

#    Given execute sql in "dble-1" in "admin" mode
#      | conn   | toClose  | sql                                                                                                           | expect                                                              | db               |
#      | conn_0 | false    | update dble_db_group,dble_db_instance set heartbeat_retry=10 where active='false';                            | update syntax error, not support update Multiple-Table              | dble_information |
#      | conn_0 | false    | update dble_db_group set heartbeat_retry=10 where (select active from dble_db_group where heartbeat_retry=1); | update syntax error, not support sub-query                          | dble_information |
#      | conn_0 | false    | update dble_db_group set heartbeat=10 where active='false';                                                   | Unknown column 'heartbeat' in 'field list'                          | dble_information |
#      | conn_0 | false   | update dble_db_group set name='ha_group10' where active='false'                                               | Primary column 'name' can not be update, please use delete & insert | dble_information |
#      | conn_0 | false   | update dble_information.dble_db_group set active='true' where disable_ha='true'                               | Column 'active' is not writable        | dble_information |
#      | conn_0 | false    | update dble_db_group set rw_split_mode=null where db_group='db_group1';                                       | Column 'rw_split_mode' cannot be null                               | dble_information |
#      | conn_0 | false    | update LOW_PRIORITY dble_db_group set heartbeat_stmt='select user()' where db_group='db_group1';              | update syntax error, not support update with syntax                 | dble_information |
#      | conn_0 | false    | update IGNORE dble_db_group set heartbeat_stmt='select user()' where db_group='db_group1';                    | update syntax error, not support update with syntax                 | dble_information |
#      | conn_0 | false    | update dble_db_group set heartbeat_stmt='select user()' where db_group='db_group1' order by heartbeat_retry;  | update syntax error, not support update with syntax                 | dble_information |
#      | conn_0 | false    | update dble_db_group set heartbeat_stmt='select user()' where db_group='db_group1' limit 2;                   | update syntax error, not support update with syntax                 | dble_information |
#      | conn_0 | false    | update dble_db_group set heartbeat_stmt='select user()'                                                     | update syntax error, not support update without WHERE               | dble_information |
#      | conn_0 | false    | update dble_db_group a set heartbeat_retry=10 where active='true'                                             | update syntax error, not support update with alias                  | dble_information |
#      | conn_0 | false    | update dble_db_group st heartbeat_retry=10 where active='true'                                                | You have an error in your SQL syntax                                | dble_information |
#      | conn_0 | false    | update dble_db_group set active='true' where heartbeat_retry=1                                                | Column 'active' is not writable                                     | dble_information |
#      | conn_0 | false   | update dble_db_group set heartbeat_retry=10*2 where active='false'                                     | Not Supported of Value EXPR :10 * 2 | dble_information |
#      | conn_0 | false   | update dble_db_group set rw_split_mode=2 where heartbeat_stmt like 'select %' order by heartbeat_timeout limit 2     | update syntax error, not support update with syntax :[LOW_PRIORITY] [IGNORE] ... [ORDER BY ...] [LIMIT row_count] | dble_information |

#      | conn_0 | false   | update dble_db_group set delay_threshold=88,heartbeat_timeout=888 where rw_split_mode BETWEEN 0 AND 2       | unknown error:not supportted yet! | dble_information |







#  Scenario: test the langreage of delete in dble manager #3
#    Given execute sql in "dble-1" in "admin" mode
#      | conn   | toClose | sql                                                                      | expect  | db               |
#      | conn_0 | true   | delete from dble_db_group where name='db_group9';                         | success | dble_information |
#      | conn_0 | true   | delete from dble_db_group where disable_ha='true';                        | success | dble_information |
#    Given execute single sql in "dble-1" in "admin" mode and save resultset in "dble_db_group_2"
#      | conn   | toClose | sql                             | db               |
#      | conn_0 | true    | select * from dble_db_group     | dble_information |
#    Then check resultset "dble_db_group_2" has lines with following column values
#      | name-0    | heartbeat_stmt-1 | heartbeat_timeout-2 | heartbeat_retry-3 | rw_split_mode-4 | delay_threshold-5 | disable_ha-6 | active-7 |
#      | ha_group1 | select user()    | 0                   | 11                | 0               | 100               | false        | true     |
#      | ha_group2 | select user()    | 0                   | 11                | 0               | 100               | false        | true     |
#      | ha_group3 | select 1         | 0                   | 1                 | 0               | 100               | false        | false    |
#      | ha_group7 | select user()    | 1                   | 1                 | 1               | -1                | false        | false    |
#      | ha_group8 | select user()    | 1                   | 1                 | 1               | -1                | false        | false    |
#      | dbGrou-p  | select 1         | 0                   | 1                 | 0               | 100               | false        | false    |
#    Given execute sql in "dble-1" in "admin" mode
#      | conn   | toClose | sql                                                                                         | expect                                                 | db               |
#      | conn_0 | true    | delete from dble_db_group,dble_db_instance where name='db_group9';                          | delete syntax error, not support delete Multiple-Table | dble_information |
#      | conn_0 | true    | delete from dble_db_group where (select active from dble_db_group where heartbeat_retry=1); | delete syntax error, not support sub-query             | dble_information |
#      | conn_0 | true    | delete LOW_PRIORITY from dble_db_group where name='db_group9';                              | delete syntax error, not support delete with syntax    | dble_information |
#      | conn_0 | true    | delete QUICK from dble_db_group where name='db_group9';                                     | delete syntax error, not support delete with syntax    | dble_information |
#      | conn_0 | true    | delete IGNORE from dble_db_group where name='db_group9';                                    | delete syntax error, not support delete with syntax    | dble_information |
#      | conn_0 | true    | delete from dble_db_group where name='db_group9' order by heartbeat_retry;                  | delete syntax error, not support delete with syntax    | dble_information |
#      | conn_0 | true    | delete from dble_db_group where name='db_group9' limit 2;                                   | delete syntax error, not support delete with syntax    | dble_information |
#      | conn_0 | true    | delete from dble_db_grou where name='db_group9';                                            | Table `dble_information`.`dble_db_grou` doesn't exist  | dble_information |
#      | conn_0 | true    | delete from dble_db_group;                                                                  | delete syntax error, not support delete without WHERE  | dble_information |
#      | conn_0 | true    | delete from dble_db_group a where name='db_group9';                                         | delete syntax error, not support delete with alias     | dble_information |
