<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE dble:sharding SYSTEM "sharding.dtd">
<dble:sharding xmlns:dble="http://dble.cloud/">
    <schema shardingNode="dn5" name="schema1" sqlMaxLimit="100">
        <shardingTable name="t0" shardingNode="dn1,dn2" function="hash-two" shardingColumn="a"/>
        <shardingTable name="t1" shardingNode="dn1,dn2" function="hash-two" shardingColumn="id"/>
        <shardingTable name="t2" shardingNode="dn1,dn2" function="hash-two" shardingColumn="id"/>
        <shardingTable name="t3" shardingNode="dn1,dn2" function="hash-two" shardingColumn="id"/>
        <shardingTable name="t6" shardingNode="dn1,dn2" function="hash-two" shardingColumn="aggr_col"/>
        <shardingTable name="t7" shardingNode="dn1,dn2" function="hash-two" shardingColumn="b"/>
        <shardingTable name="t8" shardingNode="dn1,dn2" function="hash-two" shardingColumn="a"/>
        <shardingTable name="t9" shardingNode="dn1,dn2" function="hash-two" shardingColumn="a"/>
        <shardingTable name="t11" shardingNode="dn1,dn2" function="hash-two" shardingColumn="id1"/>
        <shardingTable name="t12" shardingNode="dn1,dn2" function="hash-two" shardingColumn="id2"/>
        <shardingTable name="t13" shardingNode="dn1,dn2" function="hash-two" shardingColumn="id3"/>
        <shardingTable name="t14" shardingNode="dn1,dn2" function="hash-two" shardingColumn="id4"/>
        <shardingTable name="t15" shardingNode="dn1,dn2" function="hash-two" shardingColumn="id5"/>
        <shardingTable name="t16" shardingNode="dn1,dn2" function="hash-two" shardingColumn="id6"/>
        <shardingTable name="d1" shardingNode="dn1,dn2" function="partbydate" shardingColumn="id"/>
        <shardingTable name="d2" shardingNode="dn1,dn2" function="partbydate" shardingColumn="id"/>
        <shardingTable name="ts1" shardingNode="dn1,dn2" function="func_hashString" shardingColumn="a"/>
        <shardingTable name="ts2" shardingNode="dn1,dn2" function="func_hashString" shardingColumn="c1"/>
        <shardingTable name="ts3" shardingNode="dn1,dn2" function="func_hashString" shardingColumn="c3"/>
        <shardingTable name="ts4" shardingNode="dn1,dn2" function="func_hashString" shardingColumn="c1"/>
        <shardingTable name="ts5" shardingNode="dn1,dn2" function="func_hashString" shardingColumn="id"/>
        <shardingTable name="ts6" shardingNode="dn1,dn2" function="func_hashString" shardingColumn="id"/>
        <shardingTable name="ts7" shardingNode="dn1,dn2" function="func_hashString" shardingColumn="a1"/>
        <shardingTable name="ts8" shardingNode="dn1,dn2" function="func_hashString" shardingColumn="a1"/>
        <shardingTable name="ts9" shardingNode="dn1,dn2" function="func_hashString" shardingColumn="a1"/>
    </schema>

    <shardingNode dbGroup="ha_group1" database="db1" name="dn1" />
    <shardingNode dbGroup="ha_group2" database="db1" name="dn2" />
    <shardingNode dbGroup="ha_group1" database="db2" name="dn3" />
    <shardingNode dbGroup="ha_group2" database="db2" name="dn4" />
    <shardingNode dbGroup="ha_group1" database="db3" name="dn5" />

    <function class="Hash" name="hash-two">
        <property name="partitionCount">2</property>
        <property name="partitionLength">1</property>
    </function>

    <function name="partbydate" class="date">
           <property name="dateFormat">yyyy-MM-dd</property>
           <property name="sBeginDate">1997-01-01</property>
           <property name="sPartionDay">10</property>
           <property name="defaultNode">0</property>
    </function>

    <function name="func_hashString" class="StringHash">
        <property name="partitionCount">2</property>
        <property name="partitionLength">128</property>
        <property name="hashSlice">0:</property>
    </function>

</dble:sharding>